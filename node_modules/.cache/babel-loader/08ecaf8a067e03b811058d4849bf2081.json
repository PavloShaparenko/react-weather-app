{"ast":null,"code":"import { createSelector } from 'reselect';\nimport { selectUnfilteredCartesianItems } from './axisSelectors';\nimport { selectBarRectangles } from './barSelectors';\n\nvar pickStackId = (state, stackId) => stackId;\n\nvar pickIsPanorama = (state, stackId, isPanorama) => isPanorama;\n\nexport var selectAllBarsInStack = createSelector([pickStackId, selectUnfilteredCartesianItems, pickIsPanorama], (stackId, allItems, isPanorama) => {\n  return allItems.filter(i => i.type === 'bar').filter(i => i.stackId === stackId).filter(i => i.isPanorama === isPanorama).filter(i => !i.hide);\n});\nvar selectAllBarIdsInStack = createSelector([selectAllBarsInStack], allBars => {\n  return allBars.map(bar => bar.id);\n});\n/**\n * Takes two rectangles and returns a new rectangle that encompasses both.\n * It takes the minimum x and y, and the maximum width and height.\n * It handles overlapping rectangles, and rectangles with a gap between them.\n * @param rect1\n * @param rect2\n */\n\nexport var expandRectangle = (rect1, rect2) => {\n  if (!rect1) {\n    return rect2;\n  }\n\n  if (!rect2) {\n    return rect1;\n  }\n\n  var x = Math.min(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n  var y = Math.min(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n  var maxX = Math.max(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n  var maxY = Math.max(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n  var width = maxX - x;\n  var height = maxY - y;\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n};\n\nvar combineStackRects = (state, stackId, isPanorama) => {\n  var allBarIds = selectAllBarIdsInStack(state, stackId, isPanorama);\n  var stackRects = [];\n  allBarIds.forEach(barId => {\n    var rectangles = selectBarRectangles(state, barId, isPanorama, undefined);\n    rectangles === null || rectangles === void 0 || rectangles.forEach((rect, index) => {\n      stackRects[index] = expandRectangle(stackRects[index], rect);\n    });\n  });\n  return stackRects;\n};\n\nexport var selectStackRects = createSelector([state => state, pickStackId, pickIsPanorama], combineStackRects);","map":{"version":3,"names":["createSelector","selectUnfilteredCartesianItems","selectBarRectangles","pickStackId","state","stackId","pickIsPanorama","isPanorama","selectAllBarsInStack","allItems","filter","i","type","hide","selectAllBarIdsInStack","allBars","map","bar","id","expandRectangle","rect1","rect2","x","Math","min","width","y","height","maxX","max","maxY","combineStackRects","allBarIds","stackRects","forEach","barId","rectangles","undefined","rect","index","selectStackRects"],"sources":["C:/Users/HP/Desktop/react-projects/Project-weathe/Projekt/node_modules/recharts/es6/state/selectors/barStackSelectors.js"],"sourcesContent":["import { createSelector } from 'reselect';\nimport { selectUnfilteredCartesianItems } from './axisSelectors';\nimport { selectBarRectangles } from './barSelectors';\nvar pickStackId = (state, stackId) => stackId;\nvar pickIsPanorama = (state, stackId, isPanorama) => isPanorama;\nexport var selectAllBarsInStack = createSelector([pickStackId, selectUnfilteredCartesianItems, pickIsPanorama], (stackId, allItems, isPanorama) => {\n  return allItems.filter(i => i.type === 'bar').filter(i => i.stackId === stackId).filter(i => i.isPanorama === isPanorama).filter(i => !i.hide);\n});\nvar selectAllBarIdsInStack = createSelector([selectAllBarsInStack], allBars => {\n  return allBars.map(bar => bar.id);\n});\n/**\n * Takes two rectangles and returns a new rectangle that encompasses both.\n * It takes the minimum x and y, and the maximum width and height.\n * It handles overlapping rectangles, and rectangles with a gap between them.\n * @param rect1\n * @param rect2\n */\nexport var expandRectangle = (rect1, rect2) => {\n  if (!rect1) {\n    return rect2;\n  }\n  if (!rect2) {\n    return rect1;\n  }\n  var x = Math.min(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n  var y = Math.min(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n  var maxX = Math.max(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n  var maxY = Math.max(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n  var width = maxX - x;\n  var height = maxY - y;\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n};\nvar combineStackRects = (state, stackId, isPanorama) => {\n  var allBarIds = selectAllBarIdsInStack(state, stackId, isPanorama);\n  var stackRects = [];\n  allBarIds.forEach(barId => {\n    var rectangles = selectBarRectangles(state, barId, isPanorama, undefined);\n    rectangles === null || rectangles === void 0 || rectangles.forEach((rect, index) => {\n      stackRects[index] = expandRectangle(stackRects[index], rect);\n    });\n  });\n  return stackRects;\n};\nexport var selectStackRects = createSelector([state => state, pickStackId, pickIsPanorama], combineStackRects);"],"mappings":"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"},"metadata":{},"sourceType":"module"}