{"ast":null,"code":"// weatherApi.js\nconst API_KEY = '86f7352254b44be6841171331263001';\nexport const fetchWeatherData = async city => {\n  let query = city ? city.trim() : ''; // sanitize common stray characters (e.g. accidental '>' from paste)\n\n  query = query.replace(/[<>]/g, '').trim();\n  const qLower = query.toLowerCase();\n  if (qLower === 'vinnytsia' || qLower === 'вінниця') query = 'Vinnitsa';\n  if (qLower === 'kiev' || qLower === 'киев' || qLower === 'київ') query = 'Kyiv';\n\n  try {\n    // DODANO: &aqi=yes na końcu linku\n    const response = await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${API_KEY}&q=${encodeURIComponent(query)}&days=2&aqi=yes`);\n    if (!response.ok) throw new Error('City not found');\n    const json = await response.json();\n    const combinedHours = [...json.forecast.forecastday[0].hour, ...json.forecast.forecastday[1].hour];\n    return {\n      chartData: combinedHours.map(h => ({\n        fullTime: h.time,\n        time: h.time.split(' ')[1],\n        temp: h.temp_c,\n        feelsLike: h.feelslike_c,\n        icon: h.condition.icon\n      })),\n      astro: json.forecast.forecastday[0].astro,\n      locationName: json.location.name,\n      fullRawData: json // Przekazujemy surowe dane dla komponentu Highlights\n\n    };\n  } catch (error) {\n    throw error;\n  }\n};","map":{"version":3,"names":["API_KEY","fetchWeatherData","city","query","trim","replace","qLower","toLowerCase","response","fetch","encodeURIComponent","ok","Error","json","combinedHours","forecast","forecastday","hour","chartData","map","h","fullTime","time","split","temp","temp_c","feelsLike","feelslike_c","icon","condition","astro","locationName","location","name","fullRawData","error"],"sources":["C:/Users/HP/Desktop/react-projects/Project-weathe/Projekt/src/widgets/WeatherApi.js"],"sourcesContent":["// weatherApi.js\r\nconst API_KEY = '86f7352254b44be6841171331263001';\r\n\r\nexport const fetchWeatherData = async (city) => {\r\n  let query = city ? city.trim() : '';\r\n  // sanitize common stray characters (e.g. accidental '>' from paste)\r\n  query = query.replace(/[<>]/g, '').trim();\r\n  const qLower = query.toLowerCase();\r\n  if (qLower === 'vinnytsia' || qLower === 'вінниця') query = 'Vinnitsa';\r\n  if (qLower === 'kiev' || qLower === 'киев' || qLower === 'київ') query = 'Kyiv';\r\n\r\n  try {\r\n    // DODANO: &aqi=yes na końcu linku\r\n    const response = await fetch(\r\n      `https://api.weatherapi.com/v1/forecast.json?key=${API_KEY}&q=${encodeURIComponent(query)}&days=2&aqi=yes`\r\n    );\r\n\r\n    if (!response.ok) throw new Error('City not found');\r\n    const json = await response.json();\r\n\r\n    const combinedHours = [\r\n      ...json.forecast.forecastday[0].hour,\r\n      ...json.forecast.forecastday[1].hour\r\n    ];\r\n\r\n    return {\r\n      chartData: combinedHours.map(h => ({\r\n        fullTime: h.time,\r\n        time: h.time.split(' ')[1],\r\n        temp: h.temp_c,\r\n        feelsLike: h.feelslike_c,\r\n        icon: h.condition.icon\r\n      })),\r\n      astro: json.forecast.forecastday[0].astro,\r\n      locationName: json.location.name,\r\n      fullRawData: json // Przekazujemy surowe dane dla komponentu Highlights\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAG,iCAAhB;AAEA,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,IAAP,IAAgB;EAC9C,IAAIC,KAAK,GAAGD,IAAI,GAAGA,IAAI,CAACE,IAAL,EAAH,GAAiB,EAAjC,CAD8C,CAE9C;;EACAD,KAAK,GAAGA,KAAK,CAACE,OAAN,CAAc,OAAd,EAAuB,EAAvB,EAA2BD,IAA3B,EAAR;EACA,MAAME,MAAM,GAAGH,KAAK,CAACI,WAAN,EAAf;EACA,IAAID,MAAM,KAAK,WAAX,IAA0BA,MAAM,KAAK,SAAzC,EAAoDH,KAAK,GAAG,UAAR;EACpD,IAAIG,MAAM,KAAK,MAAX,IAAqBA,MAAM,KAAK,MAAhC,IAA0CA,MAAM,KAAK,MAAzD,EAAiEH,KAAK,GAAG,MAAR;;EAEjE,IAAI;IACF;IACA,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CACzB,mDAAkDT,OAAQ,MAAKU,kBAAkB,CAACP,KAAD,CAAQ,iBADhE,CAA5B;IAIA,IAAI,CAACK,QAAQ,CAACG,EAAd,EAAkB,MAAM,IAAIC,KAAJ,CAAU,gBAAV,CAAN;IAClB,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACK,IAAT,EAAnB;IAEA,MAAMC,aAAa,GAAG,CACpB,GAAGD,IAAI,CAACE,QAAL,CAAcC,WAAd,CAA0B,CAA1B,EAA6BC,IADZ,EAEpB,GAAGJ,IAAI,CAACE,QAAL,CAAcC,WAAd,CAA0B,CAA1B,EAA6BC,IAFZ,CAAtB;IAKA,OAAO;MACLC,SAAS,EAAEJ,aAAa,CAACK,GAAd,CAAkBC,CAAC,KAAK;QACjCC,QAAQ,EAAED,CAAC,CAACE,IADqB;QAEjCA,IAAI,EAAEF,CAAC,CAACE,IAAF,CAAOC,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAF2B;QAGjCC,IAAI,EAAEJ,CAAC,CAACK,MAHyB;QAIjCC,SAAS,EAAEN,CAAC,CAACO,WAJoB;QAKjCC,IAAI,EAAER,CAAC,CAACS,SAAF,CAAYD;MALe,CAAL,CAAnB,CADN;MAQLE,KAAK,EAAEjB,IAAI,CAACE,QAAL,CAAcC,WAAd,CAA0B,CAA1B,EAA6Bc,KAR/B;MASLC,YAAY,EAAElB,IAAI,CAACmB,QAAL,CAAcC,IATvB;MAULC,WAAW,EAAErB,IAVR,CAUa;;IAVb,CAAP;EAYD,CA1BD,CA0BE,OAAOsB,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CArCM"},"metadata":{},"sourceType":"module"}