{"ast":null,"code":"import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { setKeyboardInteraction } from './tooltipSlice';\nimport { selectTooltipAxisDomain, selectTooltipAxisTicks, selectTooltipDisplayedData } from './selectors/tooltipSelectors';\nimport { selectCoordinateForDefaultIndex } from './selectors/selectors';\nimport { selectChartDirection, selectTooltipAxisDataKey } from './selectors/axisSelectors';\nimport { combineActiveTooltipIndex } from './selectors/combiners/combineActiveTooltipIndex';\nexport var keyDownAction = createAction('keyDown');\nexport var focusAction = createAction('focus');\nexport var keyboardEventsMiddleware = createListenerMiddleware();\nkeyboardEventsMiddleware.startListening({\n  actionCreator: keyDownAction,\n  effect: (action, listenerApi) => {\n    var state = listenerApi.getState();\n    var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n\n    if (!accessibilityLayerIsActive) {\n      return;\n    }\n\n    var {\n      keyboardInteraction\n    } = state.tooltip;\n    var key = action.payload;\n\n    if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Enter') {\n      return;\n    } // TODO this is lacking index for charts that do not support numeric indexes\n\n\n    var resolvedIndex = combineActiveTooltipIndex(keyboardInteraction, selectTooltipDisplayedData(state), selectTooltipAxisDataKey(state), selectTooltipAxisDomain(state));\n    var currentIndex = resolvedIndex == null ? -1 : Number(resolvedIndex);\n\n    if (!Number.isFinite(currentIndex) || currentIndex < 0) {\n      return;\n    }\n\n    var tooltipTicks = selectTooltipAxisTicks(state);\n\n    if (key === 'Enter') {\n      var _coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(keyboardInteraction.index));\n\n      listenerApi.dispatch(setKeyboardInteraction({\n        active: !keyboardInteraction.active,\n        activeIndex: keyboardInteraction.index,\n        activeCoordinate: _coordinate\n      }));\n      return;\n    }\n\n    var direction = selectChartDirection(state);\n    var directionMultiplier = direction === 'left-to-right' ? 1 : -1;\n    var movement = key === 'ArrowRight' ? 1 : -1;\n    var nextIndex = currentIndex + movement * directionMultiplier;\n\n    if (tooltipTicks == null || nextIndex >= tooltipTicks.length || nextIndex < 0) {\n      return;\n    }\n\n    var coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(nextIndex));\n    listenerApi.dispatch(setKeyboardInteraction({\n      active: true,\n      activeIndex: nextIndex.toString(),\n      activeCoordinate: coordinate\n    }));\n  }\n});\nkeyboardEventsMiddleware.startListening({\n  actionCreator: focusAction,\n  effect: (_action, listenerApi) => {\n    var state = listenerApi.getState();\n    var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n\n    if (!accessibilityLayerIsActive) {\n      return;\n    }\n\n    var {\n      keyboardInteraction\n    } = state.tooltip;\n\n    if (keyboardInteraction.active) {\n      return;\n    }\n\n    if (keyboardInteraction.index == null) {\n      var nextIndex = '0';\n      var coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(nextIndex));\n      listenerApi.dispatch(setKeyboardInteraction({\n        active: true,\n        activeIndex: nextIndex,\n        activeCoordinate: coordinate\n      }));\n    }\n  }\n});","map":{"version":3,"names":["createAction","createListenerMiddleware","setKeyboardInteraction","selectTooltipAxisDomain","selectTooltipAxisTicks","selectTooltipDisplayedData","selectCoordinateForDefaultIndex","selectChartDirection","selectTooltipAxisDataKey","combineActiveTooltipIndex","keyDownAction","focusAction","keyboardEventsMiddleware","startListening","actionCreator","effect","action","listenerApi","state","getState","accessibilityLayerIsActive","rootProps","accessibilityLayer","keyboardInteraction","tooltip","key","payload","resolvedIndex","currentIndex","Number","isFinite","tooltipTicks","_coordinate","String","index","dispatch","active","activeIndex","activeCoordinate","direction","directionMultiplier","movement","nextIndex","length","coordinate","toString","_action"],"sources":["C:/Users/HP/Desktop/react-projects/Project-weathe/Projekt/node_modules/recharts/es6/state/keyboardEventsMiddleware.js"],"sourcesContent":["import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { setKeyboardInteraction } from './tooltipSlice';\nimport { selectTooltipAxisDomain, selectTooltipAxisTicks, selectTooltipDisplayedData } from './selectors/tooltipSelectors';\nimport { selectCoordinateForDefaultIndex } from './selectors/selectors';\nimport { selectChartDirection, selectTooltipAxisDataKey } from './selectors/axisSelectors';\nimport { combineActiveTooltipIndex } from './selectors/combiners/combineActiveTooltipIndex';\nexport var keyDownAction = createAction('keyDown');\nexport var focusAction = createAction('focus');\nexport var keyboardEventsMiddleware = createListenerMiddleware();\nkeyboardEventsMiddleware.startListening({\n  actionCreator: keyDownAction,\n  effect: (action, listenerApi) => {\n    var state = listenerApi.getState();\n    var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n    if (!accessibilityLayerIsActive) {\n      return;\n    }\n    var {\n      keyboardInteraction\n    } = state.tooltip;\n    var key = action.payload;\n    if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Enter') {\n      return;\n    }\n\n    // TODO this is lacking index for charts that do not support numeric indexes\n    var resolvedIndex = combineActiveTooltipIndex(keyboardInteraction, selectTooltipDisplayedData(state), selectTooltipAxisDataKey(state), selectTooltipAxisDomain(state));\n    var currentIndex = resolvedIndex == null ? -1 : Number(resolvedIndex);\n    if (!Number.isFinite(currentIndex) || currentIndex < 0) {\n      return;\n    }\n    var tooltipTicks = selectTooltipAxisTicks(state);\n    if (key === 'Enter') {\n      var _coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(keyboardInteraction.index));\n      listenerApi.dispatch(setKeyboardInteraction({\n        active: !keyboardInteraction.active,\n        activeIndex: keyboardInteraction.index,\n        activeCoordinate: _coordinate\n      }));\n      return;\n    }\n    var direction = selectChartDirection(state);\n    var directionMultiplier = direction === 'left-to-right' ? 1 : -1;\n    var movement = key === 'ArrowRight' ? 1 : -1;\n    var nextIndex = currentIndex + movement * directionMultiplier;\n    if (tooltipTicks == null || nextIndex >= tooltipTicks.length || nextIndex < 0) {\n      return;\n    }\n    var coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(nextIndex));\n    listenerApi.dispatch(setKeyboardInteraction({\n      active: true,\n      activeIndex: nextIndex.toString(),\n      activeCoordinate: coordinate\n    }));\n  }\n});\nkeyboardEventsMiddleware.startListening({\n  actionCreator: focusAction,\n  effect: (_action, listenerApi) => {\n    var state = listenerApi.getState();\n    var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n    if (!accessibilityLayerIsActive) {\n      return;\n    }\n    var {\n      keyboardInteraction\n    } = state.tooltip;\n    if (keyboardInteraction.active) {\n      return;\n    }\n    if (keyboardInteraction.index == null) {\n      var nextIndex = '0';\n      var coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(nextIndex));\n      listenerApi.dispatch(setKeyboardInteraction({\n        active: true,\n        activeIndex: nextIndex,\n        activeCoordinate: coordinate\n      }));\n    }\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}