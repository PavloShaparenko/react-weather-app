{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\react-projects\\\\Project-weathe\\\\Projekt\\\\src\\\\en\\\\widgets\\\\WeatherBackground.js\";\nimport React from 'react';\nimport Snowfall from 'react-snowfall'; // --- IMPORTY OBRAZKÓW ---\n// Upewnij się, że rozszerzenia są identyczne jak nazwy plików w folderze!\n\nimport springBg from '../shared/art/spring.webp';\nimport summerBg from '../shared/art/summer.webp'; // Zwróć uwagę na rozszerzenie .wbp czy .webp?\n\nimport autumnBg from '../shared/art/autumn.jpg';\nimport winterBg from '../shared/art/snow.jpg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst WeatherBackground = _ref => {\n  let {\n    weatherData\n  } = _ref;\n\n  // 1. Jeśli brak danych, pokazujemy domyślne tło (np. wiosnę)\n  if (!weatherData || !weatherData.current) {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: springBg,\n      alt: \"default-bg\",\n      className: \"bg-video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 12\n    }, this);\n  }\n\n  const {\n    condition,\n    is_day,\n    temp_c\n  } = weatherData.current;\n  const code = condition.code; // 2. Pobieramy miesiąc z CZASU MIASTA, a nie Twojego komputera\n  // Format localtime: \"2024-02-17 12:00\"\n\n  const locationTime = new Date(weatherData.location.localtime);\n  const month = locationTime.getMonth() + 1; // 1-12\n  // --- LOGIKA WYBORU TŁA ---\n\n  let backgroundSrc = springBg; // Domyślna wartość\n\n  let showSnow = false;\n  let overlayColor = 'rgba(0, 0, 0, 0.2)'; // Domyślny cień\n  // Kody pogody (WeatherAPI)\n\n  const snowCodes = [1066, 1069, 1072, 1114, 1117, 1210, 1213, 1216, 1219, 1222, 1225, 1237, 1255, 1258, 1261, 1264];\n  const rainCodes = [1063, 1180, 1183, 1186, 1189, 1192, 1195, 1198, 1201, 1240, 1243, 1246, 1273, 1276]; // LOGIKA 1: Czy API mówi wprost, że pada śnieg?\n\n  if (snowCodes.includes(code)) {\n    backgroundSrc = winterBg;\n    showSnow = true;\n    overlayColor = 'rgba(0, 0, 0, 0.1)';\n  } // LOGIKA 2: Czy API mówi, że pada deszcz?\n  else if (rainCodes.includes(code)) {\n    // Przy deszczu bierzemy tło pory roku, ale mocno przyciemniamy\n    backgroundSrc = getSmartSeasonBg(month, temp_c);\n    overlayColor = 'rgba(0, 0, 30, 0.6)'; // Efekt mokrej, ciemnej pogody\n  } // LOGIKA 3: Zwykła pogoda (Słońce/Chmury)\n  else {\n    backgroundSrc = getSmartSeasonBg(month, temp_c); // Jeśli jest noc, przyciemniamy tło\n\n    if (is_day === 0) {\n      overlayColor = 'rgba(0, 0, 15, 0.7)';\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: backgroundSrc,\n      alt: \"weather-bg\",\n      className: \"bg-video\" // Dodatkowe filtrowanie jasności CSS dla płynnego efektu\n      ,\n      style: {\n        filter: is_day === 0 ? 'brightness(0.6)' : 'brightness(0.95)',\n        transition: 'filter 1s ease'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100dvh',\n        backgroundColor: overlayColor,\n        zIndex: -1,\n        pointerEvents: 'none',\n        transition: 'background-color 1s ease'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), showSnow && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100dvh',\n        zIndex: 0,\n        pointerEvents: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(Snowfall, {\n        color: \"white\",\n        snowflakeCount: 200,\n        radius: [0.5, 3.0],\n        speed: [0.5, 3.0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}; // Funkcja pomocnicza: Inteligentny wybór pory roku\n// Bierze pod uwagę miesiąc ORAZ temperaturę\n// Funkcja pomocnicza: Inteligentny wybór pory roku\n\n\n_c = WeatherBackground;\n\nconst getSmartSeasonBg = (month, temp) => {\n  // ZIMA (Grudzień, Styczeń, Luty)\n  if (month === 12 || month === 1 || month === 2) {\n    // Jeśli jest zima, ale jest ciepło (> 5 stopni), pokazujemy WIOSNĘ\n    if (temp > 5) return springBg;\n    return winterBg;\n  } // WIOSNA (Marzec, Kwiecień, Maj)\n\n\n  if (month >= 3 && month <= 5) {\n    // Nawet jeśli jest lekki mróz, wiosną pokazujemy obrazek wiosenny\n    if (temp < -5) return winterBg;\n    return springBg;\n  } // LATO (Czerwiec, Lipiec, Sierpień)\n\n\n  if (month >= 6 && month <= 8) {\n    return summerBg;\n  } // JESIEŃ (Wrzesień, Październik, Listopad)\n\n\n  if (month >= 9 && month <= 11) {\n    // Jesienią, jeśli nagle zrobi się bardzo ciepło (> 20 stopni), \n    // możemy udawać lato, ale zostawmy jesień dla klimatu\n    if (temp < -2) return winterBg;\n    return autumnBg;\n  }\n\n  return springBg; // Zapasowe wyjście\n};\n\nexport default WeatherBackground;\n\nvar _c;\n\n$RefreshReg$(_c, \"WeatherBackground\");","map":{"version":3,"names":["React","Snowfall","springBg","summerBg","autumnBg","winterBg","WeatherBackground","weatherData","current","condition","is_day","temp_c","code","locationTime","Date","location","localtime","month","getMonth","backgroundSrc","showSnow","overlayColor","snowCodes","rainCodes","includes","getSmartSeasonBg","filter","transition","position","top","left","width","height","backgroundColor","zIndex","pointerEvents","temp"],"sources":["C:/Users/HP/Desktop/react-projects/Project-weathe/Projekt/src/en/widgets/WeatherBackground.js"],"sourcesContent":["import React from 'react';\r\nimport Snowfall from 'react-snowfall';\r\n\r\n// --- IMPORTY OBRAZKÓW ---\r\n// Upewnij się, że rozszerzenia są identyczne jak nazwy plików w folderze!\r\nimport springBg from '../shared/art/spring.webp';\r\nimport summerBg from '../shared/art/summer.webp'; // Zwróć uwagę na rozszerzenie .wbp czy .webp?\r\nimport autumnBg from '../shared/art/autumn.jpg';\r\nimport winterBg from '../shared/art/snow.jpg';\r\n\r\nconst WeatherBackground = ({ weatherData }) => {\r\n  // 1. Jeśli brak danych, pokazujemy domyślne tło (np. wiosnę)\r\n  if (!weatherData || !weatherData.current) {\r\n    return <img src={springBg} alt=\"default-bg\" className=\"bg-video\" />;\r\n  }\r\n\r\n  const { condition, is_day, temp_c } = weatherData.current;\r\n  const code = condition.code;\r\n  \r\n  // 2. Pobieramy miesiąc z CZASU MIASTA, a nie Twojego komputera\r\n  // Format localtime: \"2024-02-17 12:00\"\r\n  const locationTime = new Date(weatherData.location.localtime);\r\n  const month = locationTime.getMonth() + 1; // 1-12\r\n\r\n  // --- LOGIKA WYBORU TŁA ---\r\n  \r\n  let backgroundSrc = springBg; // Domyślna wartość\r\n  let showSnow = false;\r\n  let overlayColor = 'rgba(0, 0, 0, 0.2)'; // Domyślny cień\r\n\r\n  // Kody pogody (WeatherAPI)\r\n  const snowCodes = [1066, 1069, 1072, 1114, 1117, 1210, 1213, 1216, 1219, 1222, 1225, 1237, 1255, 1258, 1261, 1264];\r\n  const rainCodes = [1063, 1180, 1183, 1186, 1189, 1192, 1195, 1198, 1201, 1240, 1243, 1246, 1273, 1276];\r\n\r\n  // LOGIKA 1: Czy API mówi wprost, że pada śnieg?\r\n  if (snowCodes.includes(code)) {\r\n    backgroundSrc = winterBg;\r\n    showSnow = true;\r\n    overlayColor = 'rgba(0, 0, 0, 0.1)';\r\n  }\r\n  // LOGIKA 2: Czy API mówi, że pada deszcz?\r\n  else if (rainCodes.includes(code)) {\r\n    // Przy deszczu bierzemy tło pory roku, ale mocno przyciemniamy\r\n    backgroundSrc = getSmartSeasonBg(month, temp_c);\r\n    overlayColor = 'rgba(0, 0, 30, 0.6)'; // Efekt mokrej, ciemnej pogody\r\n  }\r\n  // LOGIKA 3: Zwykła pogoda (Słońce/Chmury)\r\n  else {\r\n    backgroundSrc = getSmartSeasonBg(month, temp_c);\r\n    \r\n    // Jeśli jest noc, przyciemniamy tło\r\n    if (is_day === 0) {\r\n      overlayColor = 'rgba(0, 0, 15, 0.7)';\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img \r\n        src={backgroundSrc} \r\n        alt=\"weather-bg\" \r\n        className=\"bg-video\"\r\n        // Dodatkowe filtrowanie jasności CSS dla płynnego efektu\r\n        style={{ \r\n           filter: is_day === 0 ? 'brightness(0.6)' : 'brightness(0.95)',\r\n           transition: 'filter 1s ease'\r\n        }} \r\n      />\r\n      \r\n      {/* Warstwa koloru (Tint) */}\r\n      <div style={{\r\n          position: 'fixed', top: 0, left: 0, width: '100%', height: '100dvh',\r\n          backgroundColor: overlayColor, \r\n          zIndex: -1, \r\n          pointerEvents: 'none',\r\n          transition: 'background-color 1s ease'\r\n      }} />\r\n      \r\n      {/* Animacja śniegu (tylko gdy showSnow = true) */}\r\n      {showSnow && (\r\n        <div style={{ position: 'fixed', top: 0, left: 0, width: '100vw', height: '100dvh', zIndex: 0, pointerEvents: 'none' }}>\r\n           <Snowfall color=\"white\" snowflakeCount={200} radius={[0.5, 3.0]} speed={[0.5, 3.0]} />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// Funkcja pomocnicza: Inteligentny wybór pory roku\r\n// Bierze pod uwagę miesiąc ORAZ temperaturę\r\n// Funkcja pomocnicza: Inteligentny wybór pory roku\r\nconst getSmartSeasonBg = (month, temp) => {\r\n  \r\n  // ZIMA (Grudzień, Styczeń, Luty)\r\n  if (month === 12 || month === 1 || month === 2) {\r\n    // Jeśli jest zima, ale jest ciepło (> 5 stopni), pokazujemy WIOSNĘ\r\n    if (temp > 5) return springBg; \r\n    return winterBg;\r\n  }\r\n\r\n  // WIOSNA (Marzec, Kwiecień, Maj)\r\n  if (month >= 3 && month <= 5) {\r\n    // Nawet jeśli jest lekki mróz, wiosną pokazujemy obrazek wiosenny\r\n    if (temp < -5) return winterBg;\r\n    return springBg;\r\n  }\r\n\r\n  // LATO (Czerwiec, Lipiec, Sierpień)\r\n  if (month >= 6 && month <= 8) {\r\n    return summerBg;\r\n  }\r\n\r\n  // JESIEŃ (Wrzesień, Październik, Listopad)\r\n  if (month >= 9 && month <= 11) {\r\n    // Jesienią, jeśli nagle zrobi się bardzo ciepło (> 20 stopni), \r\n    // możemy udawać lato, ale zostawmy jesień dla klimatu\r\n    if (temp < -2) return winterBg;\r\n    return autumnBg;\r\n  }\r\n\r\n  return springBg; // Zapasowe wyjście\r\n};\r\nexport default WeatherBackground;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB,C,CAEA;AACA;;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,QAAP,MAAqB,2BAArB,C,CAAkD;;AAClD,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;;;;AAEA,MAAMC,iBAAiB,GAAG,QAAqB;EAAA,IAApB;IAAEC;EAAF,CAAoB;;EAC7C;EACA,IAAI,CAACA,WAAD,IAAgB,CAACA,WAAW,CAACC,OAAjC,EAA0C;IACxC,oBAAO;MAAK,GAAG,EAAEN,QAAV;MAAoB,GAAG,EAAC,YAAxB;MAAqC,SAAS,EAAC;IAA/C;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,MAAM;IAAEO,SAAF;IAAaC,MAAb;IAAqBC;EAArB,IAAgCJ,WAAW,CAACC,OAAlD;EACA,MAAMI,IAAI,GAAGH,SAAS,CAACG,IAAvB,CAP6C,CAS7C;EACA;;EACA,MAAMC,YAAY,GAAG,IAAIC,IAAJ,CAASP,WAAW,CAACQ,QAAZ,CAAqBC,SAA9B,CAArB;EACA,MAAMC,KAAK,GAAGJ,YAAY,CAACK,QAAb,KAA0B,CAAxC,CAZ6C,CAYF;EAE3C;;EAEA,IAAIC,aAAa,GAAGjB,QAApB,CAhB6C,CAgBf;;EAC9B,IAAIkB,QAAQ,GAAG,KAAf;EACA,IAAIC,YAAY,GAAG,oBAAnB,CAlB6C,CAkBJ;EAEzC;;EACA,MAAMC,SAAS,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,EAA6D,IAA7D,EAAmE,IAAnE,EAAyE,IAAzE,EAA+E,IAA/E,EAAqF,IAArF,EAA2F,IAA3F,CAAlB;EACA,MAAMC,SAAS,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,EAA6D,IAA7D,EAAmE,IAAnE,EAAyE,IAAzE,EAA+E,IAA/E,CAAlB,CAtB6C,CAwB7C;;EACA,IAAID,SAAS,CAACE,QAAV,CAAmBZ,IAAnB,CAAJ,EAA8B;IAC5BO,aAAa,GAAGd,QAAhB;IACAe,QAAQ,GAAG,IAAX;IACAC,YAAY,GAAG,oBAAf;EACD,CAJD,CAKA;EALA,KAMK,IAAIE,SAAS,CAACC,QAAV,CAAmBZ,IAAnB,CAAJ,EAA8B;IACjC;IACAO,aAAa,GAAGM,gBAAgB,CAACR,KAAD,EAAQN,MAAR,CAAhC;IACAU,YAAY,GAAG,qBAAf,CAHiC,CAGK;EACvC,CAJI,CAKL;EALK,KAMA;IACHF,aAAa,GAAGM,gBAAgB,CAACR,KAAD,EAAQN,MAAR,CAAhC,CADG,CAGH;;IACA,IAAID,MAAM,KAAK,CAAf,EAAkB;MAChBW,YAAY,GAAG,qBAAf;IACD;EACF;;EAED,oBACE;IAAA,wBACE;MACE,GAAG,EAAEF,aADP;MAEE,GAAG,EAAC,YAFN;MAGE,SAAS,EAAC,UAHZ,CAIE;MAJF;MAKE,KAAK,EAAE;QACJO,MAAM,EAAEhB,MAAM,KAAK,CAAX,GAAe,iBAAf,GAAmC,kBADvC;QAEJiB,UAAU,EAAE;MAFR;IALT;MAAA;MAAA;MAAA;IAAA,QADF,eAaE;MAAK,KAAK,EAAE;QACRC,QAAQ,EAAE,OADF;QACWC,GAAG,EAAE,CADhB;QACmBC,IAAI,EAAE,CADzB;QAC4BC,KAAK,EAAE,MADnC;QAC2CC,MAAM,EAAE,QADnD;QAERC,eAAe,EAAEZ,YAFT;QAGRa,MAAM,EAAE,CAAC,CAHD;QAIRC,aAAa,EAAE,MAJP;QAKRR,UAAU,EAAE;MALJ;IAAZ;MAAA;MAAA;MAAA;IAAA,QAbF,EAsBGP,QAAQ,iBACP;MAAK,KAAK,EAAE;QAAEQ,QAAQ,EAAE,OAAZ;QAAqBC,GAAG,EAAE,CAA1B;QAA6BC,IAAI,EAAE,CAAnC;QAAsCC,KAAK,EAAE,OAA7C;QAAsDC,MAAM,EAAE,QAA9D;QAAwEE,MAAM,EAAE,CAAhF;QAAmFC,aAAa,EAAE;MAAlG,CAAZ;MAAA,uBACG,QAAC,QAAD;QAAU,KAAK,EAAC,OAAhB;QAAwB,cAAc,EAAE,GAAxC;QAA6C,MAAM,EAAE,CAAC,GAAD,EAAM,GAAN,CAArD;QAAiE,KAAK,EAAE,CAAC,GAAD,EAAM,GAAN;MAAxE;QAAA;QAAA;QAAA;MAAA;IADH;MAAA;MAAA;MAAA;IAAA,QAvBJ;EAAA,gBADF;AA8BD,CA5ED,C,CA8EA;AACA;AACA;;;KAhFM7B,iB;;AAiFN,MAAMmB,gBAAgB,GAAG,CAACR,KAAD,EAAQmB,IAAR,KAAiB;EAExC;EACA,IAAInB,KAAK,KAAK,EAAV,IAAgBA,KAAK,KAAK,CAA1B,IAA+BA,KAAK,KAAK,CAA7C,EAAgD;IAC9C;IACA,IAAImB,IAAI,GAAG,CAAX,EAAc,OAAOlC,QAAP;IACd,OAAOG,QAAP;EACD,CAPuC,CASxC;;;EACA,IAAIY,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,CAA3B,EAA8B;IAC5B;IACA,IAAImB,IAAI,GAAG,CAAC,CAAZ,EAAe,OAAO/B,QAAP;IACf,OAAOH,QAAP;EACD,CAduC,CAgBxC;;;EACA,IAAIe,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,CAA3B,EAA8B;IAC5B,OAAOd,QAAP;EACD,CAnBuC,CAqBxC;;;EACA,IAAIc,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,EAA3B,EAA+B;IAC7B;IACA;IACA,IAAImB,IAAI,GAAG,CAAC,CAAZ,EAAe,OAAO/B,QAAP;IACf,OAAOD,QAAP;EACD;;EAED,OAAOF,QAAP,CA7BwC,CA6BvB;AAClB,CA9BD;;AA+BA,eAAeI,iBAAf"},"metadata":{},"sourceType":"module"}