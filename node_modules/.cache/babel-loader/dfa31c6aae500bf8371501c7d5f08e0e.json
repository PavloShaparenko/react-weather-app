{"ast":null,"code":"import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { mouseLeaveChart, setMouseClickAxisIndex, setMouseOverAxisIndex } from './tooltipSlice';\nimport { selectActivePropsFromChartPointer } from './selectors/selectActivePropsFromChartPointer';\nimport { selectTooltipEventType } from './selectors/selectTooltipEventType';\nimport { getChartPointer } from '../util/getChartPointer';\nexport var mouseClickAction = createAction('mouseClick');\nexport var mouseClickMiddleware = createListenerMiddleware(); // TODO: there's a bug here when you click the chart the activeIndex resets to zero\n\nmouseClickMiddleware.startListening({\n  actionCreator: mouseClickAction,\n  effect: (action, listenerApi) => {\n    var mousePointer = action.payload;\n    var activeProps = selectActivePropsFromChartPointer(listenerApi.getState(), getChartPointer(mousePointer));\n\n    if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n      listenerApi.dispatch(setMouseClickAxisIndex({\n        activeIndex: activeProps.activeIndex,\n        activeDataKey: undefined,\n        activeCoordinate: activeProps.activeCoordinate\n      }));\n    }\n  }\n});\nexport var mouseMoveAction = createAction('mouseMove');\nexport var mouseMoveMiddleware = createListenerMiddleware();\n/*\n * This single rafId is safe because:\n * 1. Each chart has its own Redux store instance with its own middleware\n * 2. mouseMoveAction only fires from one DOM element (the chart wrapper)\n * 3. Rapid mousemove events from the same element SHOULD debounce - we only care about the latest position\n * This is different from externalEventsMiddleware which handles multiple event types\n * (click, mouseenter, mouseleave, etc.) that should NOT cancel each other.\n */\n\nvar rafId = null;\nmouseMoveMiddleware.startListening({\n  actionCreator: mouseMoveAction,\n  effect: (action, listenerApi) => {\n    var mousePointer = action.payload; // Cancel any pending animation frame\n\n    if (rafId !== null) {\n      cancelAnimationFrame(rafId);\n    }\n\n    var chartPointer = getChartPointer(mousePointer); // Schedule the dispatch for the next animation frame\n\n    rafId = requestAnimationFrame(() => {\n      var state = listenerApi.getState();\n      var tooltipEventType = selectTooltipEventType(state, state.tooltip.settings.shared); // this functionality only applies to charts that have axes\n\n      if (tooltipEventType === 'axis') {\n        var activeProps = selectActivePropsFromChartPointer(state, chartPointer);\n\n        if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n          listenerApi.dispatch(setMouseOverAxisIndex({\n            activeIndex: activeProps.activeIndex,\n            activeDataKey: undefined,\n            activeCoordinate: activeProps.activeCoordinate\n          }));\n        } else {\n          // this is needed to clear tooltip state when the mouse moves out of the inRange (svg - offset) function, but not yet out of the svg\n          listenerApi.dispatch(mouseLeaveChart());\n        }\n      }\n\n      rafId = null;\n    });\n  }\n});","map":{"version":3,"names":["createAction","createListenerMiddleware","mouseLeaveChart","setMouseClickAxisIndex","setMouseOverAxisIndex","selectActivePropsFromChartPointer","selectTooltipEventType","getChartPointer","mouseClickAction","mouseClickMiddleware","startListening","actionCreator","effect","action","listenerApi","mousePointer","payload","activeProps","getState","activeIndex","dispatch","activeDataKey","undefined","activeCoordinate","mouseMoveAction","mouseMoveMiddleware","rafId","cancelAnimationFrame","chartPointer","requestAnimationFrame","state","tooltipEventType","tooltip","settings","shared"],"sources":["C:/Users/HP/Desktop/react-projects/Project-weathe/Projekt/node_modules/recharts/es6/state/mouseEventsMiddleware.js"],"sourcesContent":["import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { mouseLeaveChart, setMouseClickAxisIndex, setMouseOverAxisIndex } from './tooltipSlice';\nimport { selectActivePropsFromChartPointer } from './selectors/selectActivePropsFromChartPointer';\nimport { selectTooltipEventType } from './selectors/selectTooltipEventType';\nimport { getChartPointer } from '../util/getChartPointer';\nexport var mouseClickAction = createAction('mouseClick');\nexport var mouseClickMiddleware = createListenerMiddleware();\n\n// TODO: there's a bug here when you click the chart the activeIndex resets to zero\nmouseClickMiddleware.startListening({\n  actionCreator: mouseClickAction,\n  effect: (action, listenerApi) => {\n    var mousePointer = action.payload;\n    var activeProps = selectActivePropsFromChartPointer(listenerApi.getState(), getChartPointer(mousePointer));\n    if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n      listenerApi.dispatch(setMouseClickAxisIndex({\n        activeIndex: activeProps.activeIndex,\n        activeDataKey: undefined,\n        activeCoordinate: activeProps.activeCoordinate\n      }));\n    }\n  }\n});\nexport var mouseMoveAction = createAction('mouseMove');\nexport var mouseMoveMiddleware = createListenerMiddleware();\n\n/*\n * This single rafId is safe because:\n * 1. Each chart has its own Redux store instance with its own middleware\n * 2. mouseMoveAction only fires from one DOM element (the chart wrapper)\n * 3. Rapid mousemove events from the same element SHOULD debounce - we only care about the latest position\n * This is different from externalEventsMiddleware which handles multiple event types\n * (click, mouseenter, mouseleave, etc.) that should NOT cancel each other.\n */\nvar rafId = null;\nmouseMoveMiddleware.startListening({\n  actionCreator: mouseMoveAction,\n  effect: (action, listenerApi) => {\n    var mousePointer = action.payload;\n\n    // Cancel any pending animation frame\n    if (rafId !== null) {\n      cancelAnimationFrame(rafId);\n    }\n    var chartPointer = getChartPointer(mousePointer);\n\n    // Schedule the dispatch for the next animation frame\n    rafId = requestAnimationFrame(() => {\n      var state = listenerApi.getState();\n      var tooltipEventType = selectTooltipEventType(state, state.tooltip.settings.shared);\n      // this functionality only applies to charts that have axes\n      if (tooltipEventType === 'axis') {\n        var activeProps = selectActivePropsFromChartPointer(state, chartPointer);\n        if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n          listenerApi.dispatch(setMouseOverAxisIndex({\n            activeIndex: activeProps.activeIndex,\n            activeDataKey: undefined,\n            activeCoordinate: activeProps.activeCoordinate\n          }));\n        } else {\n          // this is needed to clear tooltip state when the mouse moves out of the inRange (svg - offset) function, but not yet out of the svg\n          listenerApi.dispatch(mouseLeaveChart());\n        }\n      }\n      rafId = null;\n    });\n  }\n});"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,wBAAvB,QAAuD,kBAAvD;AACA,SAASC,eAAT,EAA0BC,sBAA1B,EAAkDC,qBAAlD,QAA+E,gBAA/E;AACA,SAASC,iCAAT,QAAkD,+CAAlD;AACA,SAASC,sBAAT,QAAuC,oCAAvC;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,OAAO,IAAIC,gBAAgB,GAAGR,YAAY,CAAC,YAAD,CAAnC;AACP,OAAO,IAAIS,oBAAoB,GAAGR,wBAAwB,EAAnD,C,CAEP;;AACAQ,oBAAoB,CAACC,cAArB,CAAoC;EAClCC,aAAa,EAAEH,gBADmB;EAElCI,MAAM,EAAE,CAACC,MAAD,EAASC,WAAT,KAAyB;IAC/B,IAAIC,YAAY,GAAGF,MAAM,CAACG,OAA1B;IACA,IAAIC,WAAW,GAAGZ,iCAAiC,CAACS,WAAW,CAACI,QAAZ,EAAD,EAAyBX,eAAe,CAACQ,YAAD,CAAxC,CAAnD;;IACA,IAAI,CAACE,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,WAAW,CAACE,WAAvE,KAAuF,IAA3F,EAAiG;MAC/FL,WAAW,CAACM,QAAZ,CAAqBjB,sBAAsB,CAAC;QAC1CgB,WAAW,EAAEF,WAAW,CAACE,WADiB;QAE1CE,aAAa,EAAEC,SAF2B;QAG1CC,gBAAgB,EAAEN,WAAW,CAACM;MAHY,CAAD,CAA3C;IAKD;EACF;AAZiC,CAApC;AAcA,OAAO,IAAIC,eAAe,GAAGxB,YAAY,CAAC,WAAD,CAAlC;AACP,OAAO,IAAIyB,mBAAmB,GAAGxB,wBAAwB,EAAlD;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIyB,KAAK,GAAG,IAAZ;AACAD,mBAAmB,CAACf,cAApB,CAAmC;EACjCC,aAAa,EAAEa,eADkB;EAEjCZ,MAAM,EAAE,CAACC,MAAD,EAASC,WAAT,KAAyB;IAC/B,IAAIC,YAAY,GAAGF,MAAM,CAACG,OAA1B,CAD+B,CAG/B;;IACA,IAAIU,KAAK,KAAK,IAAd,EAAoB;MAClBC,oBAAoB,CAACD,KAAD,CAApB;IACD;;IACD,IAAIE,YAAY,GAAGrB,eAAe,CAACQ,YAAD,CAAlC,CAP+B,CAS/B;;IACAW,KAAK,GAAGG,qBAAqB,CAAC,MAAM;MAClC,IAAIC,KAAK,GAAGhB,WAAW,CAACI,QAAZ,EAAZ;MACA,IAAIa,gBAAgB,GAAGzB,sBAAsB,CAACwB,KAAD,EAAQA,KAAK,CAACE,OAAN,CAAcC,QAAd,CAAuBC,MAA/B,CAA7C,CAFkC,CAGlC;;MACA,IAAIH,gBAAgB,KAAK,MAAzB,EAAiC;QAC/B,IAAId,WAAW,GAAGZ,iCAAiC,CAACyB,KAAD,EAAQF,YAAR,CAAnD;;QACA,IAAI,CAACX,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,WAAW,CAACE,WAAvE,KAAuF,IAA3F,EAAiG;UAC/FL,WAAW,CAACM,QAAZ,CAAqBhB,qBAAqB,CAAC;YACzCe,WAAW,EAAEF,WAAW,CAACE,WADgB;YAEzCE,aAAa,EAAEC,SAF0B;YAGzCC,gBAAgB,EAAEN,WAAW,CAACM;UAHW,CAAD,CAA1C;QAKD,CAND,MAMO;UACL;UACAT,WAAW,CAACM,QAAZ,CAAqBlB,eAAe,EAApC;QACD;MACF;;MACDwB,KAAK,GAAG,IAAR;IACD,CAlB4B,CAA7B;EAmBD;AA/BgC,CAAnC"},"metadata":{},"sourceType":"module"}