{"ast":null,"code":"import React, { useEffect, useRef } from 'react';\nimport { SnowfallCanvas } from './SnowfallCanvas.js';\nimport { defaultConfig } from './Snowflake.js';\nimport { useComponentSize, useDeepMemo, useSnowfallStyle } from './hooks.js';\nexport const Snowfall = function () {\n  let {\n    color = defaultConfig.color,\n    changeFrequency = defaultConfig.changeFrequency,\n    radius = defaultConfig.radius,\n    speed = defaultConfig.speed,\n    wind = defaultConfig.wind,\n    rotationSpeed = defaultConfig.rotationSpeed,\n    opacity = defaultConfig.opacity,\n    snowflakeCount = 150,\n    images,\n    enable3DRotation = defaultConfig.enable3DRotation,\n    style\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const mergedStyle = useSnowfallStyle(style);\n  const canvasRef = useRef(null);\n  const canvasSize = useComponentSize(canvasRef);\n  const config = useDeepMemo({\n    color,\n    changeFrequency,\n    radius,\n    speed,\n    wind,\n    rotationSpeed,\n    images,\n    snowflakeCount,\n    opacity,\n    enable3DRotation\n  }); // A reference to the config used for creating the initial instance\n\n  const configRef = useRef(config);\n  const snowfallCanvasRef = useRef();\n  useEffect(() => {\n    if (!snowfallCanvasRef.current && canvasRef.current) {\n      snowfallCanvasRef.current = new SnowfallCanvas(canvasRef.current, configRef.current);\n    }\n\n    return () => {\n      var _a;\n\n      (_a = snowfallCanvasRef.current) === null || _a === void 0 ? void 0 : _a.pause();\n      snowfallCanvasRef.current = undefined;\n    };\n  }, []);\n  useEffect(() => {\n    if (snowfallCanvasRef.current) {\n      snowfallCanvasRef.current.updateConfig(config);\n    }\n  }, [config]);\n  return React.createElement(\"canvas\", {\n    ref: canvasRef,\n    height: canvasSize.height,\n    width: canvasSize.width,\n    style: mergedStyle,\n    \"data-testid\": \"SnowfallCanvas\"\n  });\n};\nexport default Snowfall;","map":{"version":3,"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,cAAT,QAAqD,qBAArD;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,gBAAT,EAA2BC,WAA3B,EAAwCC,gBAAxC,QAAgE,YAAhE;AASA,OAAO,MAAMC,QAAQ,GAAG,YAYc;EAAA,IAZb;IACvBC,KAAK,GAAGL,aAAa,CAACK,KADC;IAEvBC,eAAe,GAAGN,aAAa,CAACM,eAFT;IAGvBC,MAAM,GAAGP,aAAa,CAACO,MAHA;IAIvBC,KAAK,GAAGR,aAAa,CAACQ,KAJC;IAKvBC,IAAI,GAAGT,aAAa,CAACS,IALE;IAMvBC,aAAa,GAAGV,aAAa,CAACU,aANP;IAOvBC,OAAO,GAAGX,aAAa,CAACW,OAPD;IAQvBC,cAAc,GAAG,GARM;IASvBC,MATuB;IAUvBC,gBAAgB,GAAGd,aAAa,CAACc,gBAVV;IAWvBC;EAXuB,CAYa,uEAAnB,EAAmB;EACpC,MAAMC,WAAW,GAAGb,gBAAgB,CAACY,KAAD,CAApC;EAEA,MAAME,SAAS,GAAGnB,MAAM,CAAoB,IAApB,CAAxB;EACA,MAAMoB,UAAU,GAAGjB,gBAAgB,CAACgB,SAAD,CAAnC;EAEA,MAAME,MAAM,GAAGjB,WAAW,CAAuB;IAC/CG,KAD+C;IAE/CC,eAF+C;IAG/CC,MAH+C;IAI/CC,KAJ+C;IAK/CC,IAL+C;IAM/CC,aAN+C;IAO/CG,MAP+C;IAQ/CD,cAR+C;IAS/CD,OAT+C;IAU/CG;EAV+C,CAAvB,CAA1B,CANoC,CAmBpC;;EACA,MAAMM,SAAS,GAAGtB,MAAM,CAACqB,MAAD,CAAxB;EAEA,MAAME,iBAAiB,GAAGvB,MAAM,EAAhC;EAEAD,SAAS,CAAC,MAAK;IACb,IAAI,CAACwB,iBAAiB,CAACC,OAAnB,IAA8BL,SAAS,CAACK,OAA5C,EAAqD;MACnDD,iBAAiB,CAACC,OAAlB,GAA4B,IAAIvB,cAAJ,CAAmBkB,SAAS,CAACK,OAA7B,EAAsCF,SAAS,CAACE,OAAhD,CAA5B;IACD;;IAED,OAAO,MAAK;;;MACV,uBAAiB,CAACA,OAAlB,MAAyB,IAAzB,IAAyBC,aAAzB,GAAyB,MAAzB,GAAyBA,GAAEC,KAAF,EAAzB;MACAH,iBAAiB,CAACC,OAAlB,GAA4BG,SAA5B;IACD,CAHD;EAID,CATQ,EASN,EATM,CAAT;EAWA5B,SAAS,CAAC,MAAK;IACb,IAAIwB,iBAAiB,CAACC,OAAtB,EAA+B;MAC7BD,iBAAiB,CAACC,OAAlB,CAA0BI,YAA1B,CAAuCP,MAAvC;IACD;EACF,CAJQ,EAIN,CAACA,MAAD,CAJM,CAAT;EAMA,OACEvB;IACE+B,GAAG,EAAEV,SADP;IAEEW,MAAM,EAAEV,UAAU,CAACU,MAFrB;IAGEC,KAAK,EAAEX,UAAU,CAACW,KAHpB;IAIEd,KAAK,EAAEC,WAJT;IAIoB,eACN;EALd,EADF;AASD,CA9DM;AAgEP,eAAeZ,QAAf","names":["React","useEffect","useRef","SnowfallCanvas","defaultConfig","useComponentSize","useDeepMemo","useSnowfallStyle","Snowfall","color","changeFrequency","radius","speed","wind","rotationSpeed","opacity","snowflakeCount","images","enable3DRotation","style","mergedStyle","canvasRef","canvasSize","config","configRef","snowfallCanvasRef","current","_a","pause","undefined","updateConfig","ref","height","width"],"sources":["C:\\Users\\HP\\Desktop\\react-projects\\Project-weathe\\Projekt\\node_modules\\react-snowfall\\src\\Snowfall.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\r\nimport { SnowfallCanvas, SnowfallCanvasConfig } from './SnowfallCanvas.js'\r\nimport { defaultConfig } from './Snowflake.js'\r\nimport { useComponentSize, useDeepMemo, useSnowfallStyle } from './hooks.js'\r\n\r\nexport interface SnowfallProps extends Partial<SnowfallCanvasConfig> {\r\n  /**\r\n   * Any style properties that will be passed to the canvas element.\r\n   */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Snowfall = ({\r\n  color = defaultConfig.color,\r\n  changeFrequency = defaultConfig.changeFrequency,\r\n  radius = defaultConfig.radius,\r\n  speed = defaultConfig.speed,\r\n  wind = defaultConfig.wind,\r\n  rotationSpeed = defaultConfig.rotationSpeed,\r\n  opacity = defaultConfig.opacity,\r\n  snowflakeCount = 150,\r\n  images,\r\n  enable3DRotation = defaultConfig.enable3DRotation,\r\n  style,\r\n}: SnowfallProps = {}): JSX.Element => {\r\n  const mergedStyle = useSnowfallStyle(style)\r\n\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const canvasSize = useComponentSize(canvasRef)\r\n\r\n  const config = useDeepMemo<SnowfallCanvasConfig>({\r\n    color,\r\n    changeFrequency,\r\n    radius,\r\n    speed,\r\n    wind,\r\n    rotationSpeed,\r\n    images,\r\n    snowflakeCount,\r\n    opacity,\r\n    enable3DRotation,\r\n  })\r\n\r\n  // A reference to the config used for creating the initial instance\r\n  const configRef = useRef(config)\r\n\r\n  const snowfallCanvasRef = useRef<SnowfallCanvas>()\r\n\r\n  useEffect(() => {\r\n    if (!snowfallCanvasRef.current && canvasRef.current) {\r\n      snowfallCanvasRef.current = new SnowfallCanvas(canvasRef.current, configRef.current)\r\n    }\r\n\r\n    return () => {\r\n      snowfallCanvasRef.current?.pause()\r\n      snowfallCanvasRef.current = undefined\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (snowfallCanvasRef.current) {\r\n      snowfallCanvasRef.current.updateConfig(config)\r\n    }\r\n  }, [config])\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      height={canvasSize.height}\r\n      width={canvasSize.width}\r\n      style={mergedStyle}\r\n      data-testid=\"SnowfallCanvas\"\r\n    />\r\n  )\r\n}\r\n\r\nexport default Snowfall\r\n"]},"metadata":{},"sourceType":"module"}