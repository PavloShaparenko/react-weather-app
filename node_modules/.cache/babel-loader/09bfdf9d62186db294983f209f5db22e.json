{"ast":null,"code":"var _excluded = [\"width\", \"height\", \"className\", \"style\", \"children\", \"type\"];\n\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n\n  var o,\n      r,\n      i = _objectWithoutPropertiesLoose(e, t);\n\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n\n  return i;\n}\n\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n\n  return t;\n}\n\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nimport * as React from 'react';\nimport { PureComponent, useCallback, useState } from 'react';\nimport omit from 'es-toolkit/compat/omit';\nimport get from 'es-toolkit/compat/get';\nimport { Layer } from '../container/Layer';\nimport { Surface } from '../container/Surface';\nimport { Polygon } from '../shape/Polygon';\nimport { Rectangle } from '../shape/Rectangle';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { COLOR_PANEL } from '../util/Constants';\nimport { isNan, noop, uniqueId } from '../util/DataUtils';\nimport { getStringSize } from '../util/DOMUtils';\nimport { ReportChartMargin, useChartHeight, useChartWidth } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nimport { isPositiveNumber } from '../util/isWellBehavedNumber';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\nimport { CSSTransitionAnimate } from '../animation/CSSTransitionAnimate';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\nvar NODE_VALUE_KEY = 'value';\n/**\n * This is what end users defines as `data` on Treemap.\n */\n\n/**\n * This is what is returned from `squarify`, the final treemap data structure\n * that gets rendered and is stored in\n */\n\nfunction isTreemapNode(value) {\n  return value != null && typeof value === 'object' && 'x' in value && 'y' in value && 'width' in value && 'height' in value && typeof value.x === 'number' && typeof value.y === 'number' && typeof value.width === 'number' && typeof value.height === 'number';\n}\n\nexport var treemapPayloadSearcher = (data, activeIndex) => {\n  if (!data || !activeIndex) {\n    return undefined;\n  }\n\n  return get(data, activeIndex);\n};\nexport var addToTreemapNodeIndex = function addToTreemapNodeIndex(indexInChildrenArr) {\n  var activeTooltipIndexSoFar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return \"\".concat(activeTooltipIndexSoFar, \"children[\").concat(indexInChildrenArr, \"]\");\n};\nvar options = {\n  chartName: 'Treemap',\n  defaultTooltipEventType: 'item',\n  validateTooltipEventTypes: ['item'],\n  tooltipPayloadSearcher: treemapPayloadSearcher,\n  eventEmitter: undefined\n};\nexport var computeNode = _ref => {\n  var {\n    depth,\n    node,\n    index,\n    dataKey,\n    nameKey,\n    nestedActiveTooltipIndex\n  } = _ref;\n  var currentTooltipIndex = depth === 0 ? '' : addToTreemapNodeIndex(index, nestedActiveTooltipIndex);\n  var {\n    children\n  } = node;\n  var childDepth = depth + 1;\n  var computedChildren = children && children.length ? children.map((child, i) => computeNode({\n    depth: childDepth,\n    node: child,\n    index: i,\n    dataKey,\n    nameKey,\n    nestedActiveTooltipIndex: currentTooltipIndex\n  })) : null;\n  var nodeValue;\n\n  if (computedChildren && computedChildren.length) {\n    nodeValue = computedChildren.reduce((result, child) => result + child.value, 0);\n  } else {\n    // TODO need to verify dataKey\n    var rawNodeValue = node[dataKey];\n    var numericValue = typeof rawNodeValue === 'number' ? rawNodeValue : 0;\n    nodeValue = isNan(numericValue) || numericValue <= 0 ? 0 : numericValue;\n  }\n\n  return _objectSpread(_objectSpread({}, node), {}, {\n    children: computedChildren,\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    name: getValueByDataKey(node, nameKey, ''),\n    [NODE_VALUE_KEY]: nodeValue,\n    depth,\n    index,\n    tooltipIndex: currentTooltipIndex\n  });\n};\n\nvar filterRect = node => ({\n  x: node.x,\n  y: node.y,\n  width: node.width,\n  height: node.height\n}); // Compute the area for each child based on value & scale.\n\n\nvar getAreaOfChildren = (children, areaValueRatio) => {\n  var ratio = areaValueRatio < 0 ? 0 : areaValueRatio;\n  return children.map(child => {\n    var area = child[NODE_VALUE_KEY] * ratio;\n    return _objectSpread(_objectSpread({}, child), {}, {\n      area: isNan(area) || area <= 0 ? 0 : area\n    });\n  });\n}; // Computes the score for the specified row, as the worst aspect ratio.\n\n\nvar getWorstScore = (row, parentSize, aspectRatio) => {\n  var parentArea = parentSize * parentSize;\n  var rowArea = row.area * row.area;\n  var {\n    min,\n    max\n  } = row.reduce((result, child) => ({\n    min: Math.min(result.min, child.area),\n    max: Math.max(result.max, child.area)\n  }), {\n    min: Infinity,\n    max: 0\n  });\n  return rowArea ? Math.max(parentArea * max * aspectRatio / rowArea, rowArea / (parentArea * min * aspectRatio)) : Infinity;\n};\n\nvar horizontalPosition = (row, parentSize, parentRect, isFlush) => {\n  var rowHeight = parentSize ? Math.round(row.area / parentSize) : 0;\n\n  if (isFlush || rowHeight > parentRect.height) {\n    rowHeight = parentRect.height;\n  }\n\n  var curX = parentRect.x;\n  var child;\n\n  for (var i = 0, len = row.length; i < len; i++) {\n    child = row[i];\n\n    if (child == null) {\n      continue;\n    }\n\n    child.x = curX;\n    child.y = parentRect.y;\n    child.height = rowHeight;\n    child.width = Math.min(rowHeight ? Math.round(child.area / rowHeight) : 0, parentRect.x + parentRect.width - curX);\n    curX += child.width;\n  } // add the remain x to the last one of row\n\n\n  if (child != null) {\n    child.width += parentRect.x + parentRect.width - curX;\n  }\n\n  return _objectSpread(_objectSpread({}, parentRect), {}, {\n    y: parentRect.y + rowHeight,\n    height: parentRect.height - rowHeight\n  });\n};\n\nvar verticalPosition = (row, parentSize, parentRect, isFlush) => {\n  var rowWidth = parentSize ? Math.round(row.area / parentSize) : 0;\n\n  if (isFlush || rowWidth > parentRect.width) {\n    rowWidth = parentRect.width;\n  }\n\n  var curY = parentRect.y;\n  var child;\n\n  for (var i = 0, len = row.length; i < len; i++) {\n    child = row[i];\n\n    if (child == null) {\n      continue;\n    }\n\n    child.x = parentRect.x;\n    child.y = curY;\n    child.width = rowWidth;\n    child.height = Math.min(rowWidth ? Math.round(child.area / rowWidth) : 0, parentRect.y + parentRect.height - curY);\n    curY += child.height;\n  }\n\n  if (child) {\n    child.height += parentRect.y + parentRect.height - curY;\n  }\n\n  return _objectSpread(_objectSpread({}, parentRect), {}, {\n    x: parentRect.x + rowWidth,\n    width: parentRect.width - rowWidth\n  });\n};\n\nvar position = (row, parentSize, parentRect, isFlush) => {\n  if (parentSize === parentRect.width) {\n    return horizontalPosition(row, parentSize, parentRect, isFlush);\n  }\n\n  return verticalPosition(row, parentSize, parentRect, isFlush);\n}; // Recursively arranges the specified node's children into squarified rows.\n\n\nvar squarify = (node, aspectRatio) => {\n  var {\n    children\n  } = node;\n\n  if (children && children.length) {\n    var rect = filterRect(node); // @ts-expect-error we can't create an array with static property on a single line so typescript will complain.\n\n    var row = [];\n    var best = Infinity; // the best row score so far\n\n    var child, score; // the current row score\n\n    var size = Math.min(rect.width, rect.height); // initial orientation\n\n    var scaleChildren = getAreaOfChildren(children, rect.width * rect.height / node[NODE_VALUE_KEY]);\n    var tempChildren = scaleChildren.slice(); // why are we setting static properties on an array?\n\n    row.area = 0;\n\n    while (tempChildren.length > 0) {\n      [child] = tempChildren;\n\n      if (child == null) {\n        continue;\n      } // row first\n\n\n      row.push(child);\n      row.area += child.area;\n      score = getWorstScore(row, size, aspectRatio);\n\n      if (score <= best) {\n        // continue with this orientation\n        tempChildren.shift();\n        best = score;\n      } else {\n        var _row$pop$area, _row$pop; // abort, and try a different orientation\n\n\n        row.area -= (_row$pop$area = (_row$pop = row.pop()) === null || _row$pop === void 0 ? void 0 : _row$pop.area) !== null && _row$pop$area !== void 0 ? _row$pop$area : 0;\n        rect = position(row, size, rect, false);\n        size = Math.min(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n    }\n\n    if (row.length) {\n      rect = position(row, size, rect, true);\n      row.length = row.area = 0;\n    }\n\n    return _objectSpread(_objectSpread({}, node), {}, {\n      children: scaleChildren.map(c => squarify(c, aspectRatio))\n    });\n  }\n\n  return node;\n};\n\nexport var defaultTreeMapProps = {\n  aspectRatio: 0.5 * (1 + Math.sqrt(5)),\n  dataKey: 'value',\n  nameKey: 'name',\n  type: 'flat',\n  isAnimationActive: 'auto',\n  isUpdateAnimationActive: 'auto',\n  animationBegin: 0,\n  animationDuration: 1500,\n  animationEasing: 'linear'\n};\nvar defaultState = {\n  isAnimationFinished: false,\n  formatRoot: null,\n  currentRoot: undefined,\n  nestIndex: [],\n  prevAspectRatio: defaultTreeMapProps.aspectRatio,\n  prevDataKey: defaultTreeMapProps.dataKey\n};\n\nfunction ContentItem(_ref2) {\n  var {\n    content,\n    nodeProps,\n    type,\n    colorPanel,\n    onMouseEnter,\n    onMouseLeave,\n    onClick\n  } = _ref2;\n\n  if ( /*#__PURE__*/React.isValidElement(content)) {\n    return /*#__PURE__*/React.createElement(Layer, {\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick\n    }, /*#__PURE__*/React.cloneElement(content, nodeProps));\n  }\n\n  if (typeof content === 'function') {\n    return /*#__PURE__*/React.createElement(Layer, {\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick\n    }, content(nodeProps));\n  } // optimize default shape\n\n\n  var {\n    x,\n    y,\n    width,\n    height,\n    index\n  } = nodeProps;\n  var arrow = null;\n\n  if (width > 10 && height > 10 && nodeProps.children && type === 'nest') {\n    arrow = /*#__PURE__*/React.createElement(Polygon, {\n      points: [{\n        x: x + 2,\n        y: y + height / 2\n      }, {\n        x: x + 6,\n        y: y + height / 2 + 3\n      }, {\n        x: x + 2,\n        y: y + height / 2 + 6\n      }]\n    });\n  }\n\n  var text = null;\n  var nameSize = getStringSize(nodeProps.name);\n\n  if (width > 20 && height > 20 && nameSize.width < width && nameSize.height < height) {\n    text = /*#__PURE__*/React.createElement(\"text\", {\n      x: x + 8,\n      y: y + height / 2 + 7,\n      fontSize: 14\n    }, nodeProps.name);\n  }\n\n  var colors = colorPanel || COLOR_PANEL;\n  return /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(Rectangle, _extends({\n    fill: nodeProps.depth < 2 ? colors[index % colors.length] : 'rgba(255,255,255,0)',\n    stroke: \"#fff\"\n  }, omit(nodeProps, ['children']), {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    \"data-recharts-item-index\": nodeProps.tooltipIndex\n  })), arrow, text);\n}\n\nfunction ContentItemWithEvents(props) {\n  var dispatch = useAppDispatch();\n  var activeCoordinate = {\n    x: props.nodeProps.x + props.nodeProps.width / 2,\n    y: props.nodeProps.y + props.nodeProps.height / 2\n  };\n\n  var onMouseEnter = () => {\n    dispatch(setActiveMouseOverItemIndex({\n      activeIndex: props.nodeProps.tooltipIndex,\n      activeDataKey: props.dataKey,\n      activeCoordinate,\n      activeGraphicalItemId: props.id\n    }));\n  };\n\n  var onMouseLeave = () => {// clearing state on mouseLeaveItem causes re-rendering issues\n    // we don't actually want to do this for TreeMap - we clear state when we leave the entire chart instead\n  };\n\n  var onClick = () => {\n    dispatch(setActiveClickItemIndex({\n      activeIndex: props.nodeProps.tooltipIndex,\n      activeDataKey: props.dataKey,\n      activeCoordinate,\n      activeGraphicalItemId: props.id\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(ContentItem, _extends({}, props, {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick\n  }));\n}\n\nvar SetTreemapTooltipEntrySettings = /*#__PURE__*/React.memo(_ref3 => {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    fill,\n    currentRoot,\n    id\n  } = _ref3;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: currentRoot,\n    getPosition: noop,\n    // TODO I think Treemap has the capability of computing positions and supporting defaultIndex? Except it doesn't yet\n    settings: {\n      stroke,\n      strokeWidth: undefined,\n      fill,\n      dataKey,\n      nameKey,\n      name: undefined,\n      // Each TreemapNode has its own name\n      hide: false,\n      type: undefined,\n      color: fill,\n      unit: '',\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n}); // Why is margin not a treemap prop? No clue. Probably it should be\n\nvar defaultTreemapMargin = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nfunction TreemapItem(_ref4) {\n  var {\n    content,\n    nodeProps,\n    isLeaf,\n    treemapProps,\n    onNestClick\n  } = _ref4;\n  var {\n    id,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    isUpdateAnimationActive,\n    type,\n    colorPanel,\n    dataKey,\n    onAnimationStart,\n    onAnimationEnd,\n    onMouseEnter: onMouseEnterFromProps,\n    onClick: onItemClickFromProps,\n    onMouseLeave: onMouseLeaveFromProps\n  } = treemapProps;\n  var {\n    width,\n    height,\n    x,\n    y\n  } = nodeProps;\n  var translateX = -x - width;\n  var translateY = 0;\n\n  var onMouseEnter = e => {\n    if ((isLeaf || type === 'nest') && typeof onMouseEnterFromProps === 'function') {\n      onMouseEnterFromProps(nodeProps, e);\n    }\n  };\n\n  var onMouseLeave = e => {\n    if ((isLeaf || type === 'nest') && typeof onMouseLeaveFromProps === 'function') {\n      onMouseLeaveFromProps(nodeProps, e);\n    }\n  };\n\n  var onClick = () => {\n    if (type === 'nest') {\n      onNestClick(nodeProps);\n    }\n\n    if ((isLeaf || type === 'nest') && typeof onItemClickFromProps === 'function') {\n      onItemClickFromProps(nodeProps);\n    }\n  };\n\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(CSSTransitionAnimate, {\n    animationId: \"treemap-\".concat(nodeProps.tooltipIndex),\n    from: \"translate(\".concat(translateX, \"px, \").concat(translateY, \"px)\"),\n    to: \"translate(0, 0)\",\n    attributeName: \"transform\",\n    begin: animationBegin,\n    easing: animationEasing,\n    isActive: isAnimationActive,\n    duration: animationDuration,\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd\n  }, style => /*#__PURE__*/React.createElement(Layer, {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      transformOrigin: \"\".concat(x, \" \").concat(y)\n    })\n  }, /*#__PURE__*/React.createElement(ContentItemWithEvents, {\n    id: id,\n    content: content,\n    dataKey: dataKey,\n    nodeProps: _objectSpread(_objectSpread({}, nodeProps), {}, {\n      isAnimationActive,\n      isUpdateAnimationActive: !isUpdateAnimationActive,\n      width,\n      height,\n      x,\n      y\n    }),\n    type: type,\n    colorPanel: colorPanel\n  })));\n}\n\nclass TreemapWithState extends PureComponent {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"state\", _objectSpread({}, defaultState));\n\n    _defineProperty(this, \"handleClick\", node => {\n      var {\n        onClick,\n        type\n      } = this.props;\n\n      if (type === 'nest' && node.children) {\n        var {\n          width,\n          height,\n          dataKey,\n          nameKey,\n          aspectRatio\n        } = this.props;\n        var root = computeNode({\n          depth: 0,\n          node: _objectSpread(_objectSpread({}, node), {}, {\n            x: 0,\n            y: 0,\n            width,\n            height\n          }),\n          index: 0,\n          dataKey,\n          nameKey,\n          // with Treemap nesting, should this continue nesting the index or start from empty string?\n          nestedActiveTooltipIndex: node.tooltipIndex\n        });\n        var formatRoot = squarify(root, aspectRatio);\n        var {\n          nestIndex\n        } = this.state;\n        nestIndex.push(node);\n        this.setState({\n          formatRoot,\n          currentRoot: root,\n          nestIndex\n        });\n      }\n\n      if (onClick) {\n        onClick(node);\n      }\n    });\n\n    _defineProperty(this, \"handleTouchMove\", e => {\n      var touchEvent = e.touches[0];\n\n      if (touchEvent == null) {\n        return;\n      }\n\n      var target = document.elementFromPoint(touchEvent.clientX, touchEvent.clientY);\n\n      if (!target || !target.getAttribute || this.state.formatRoot == null) {\n        return;\n      }\n\n      var itemIndex = target.getAttribute('data-recharts-item-index');\n      var activeNode = treemapPayloadSearcher(this.state.formatRoot, itemIndex);\n\n      if (!isTreemapNode(activeNode)) {\n        return;\n      }\n\n      var {\n        dataKey,\n        dispatch\n      } = this.props;\n      var activeCoordinate = {\n        x: activeNode.x + activeNode.width / 2,\n        y: activeNode.y + activeNode.height / 2\n      }; // Treemap does not support onTouchMove prop, but it could\n      // onTouchMove?.(activeNode, Number(itemIndex), e);\n\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex: itemIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: this.props.id\n      }));\n    });\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.data !== prevState.prevData || nextProps.type !== prevState.prevType || nextProps.width !== prevState.prevWidth || nextProps.height !== prevState.prevHeight || nextProps.dataKey !== prevState.prevDataKey || nextProps.aspectRatio !== prevState.prevAspectRatio) {\n      var root = computeNode({\n        depth: 0,\n        // @ts-expect-error missing properties\n        node: {\n          children: nextProps.data,\n          x: 0,\n          y: 0,\n          width: nextProps.width,\n          height: nextProps.height\n        },\n        index: 0,\n        dataKey: nextProps.dataKey,\n        nameKey: nextProps.nameKey\n      });\n      var formatRoot = squarify(root, nextProps.aspectRatio);\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        formatRoot,\n        currentRoot: root,\n        nestIndex: [root],\n        prevAspectRatio: nextProps.aspectRatio,\n        prevData: nextProps.data,\n        prevWidth: nextProps.width,\n        prevHeight: nextProps.height,\n        prevDataKey: nextProps.dataKey,\n        prevType: nextProps.type\n      });\n    }\n\n    return null;\n  }\n\n  handleNestIndex(node, i) {\n    var {\n      nestIndex\n    } = this.state;\n    var {\n      width,\n      height,\n      dataKey,\n      nameKey,\n      aspectRatio\n    } = this.props;\n    var root = computeNode({\n      depth: 0,\n      node: _objectSpread(_objectSpread({}, node), {}, {\n        x: 0,\n        y: 0,\n        width,\n        height\n      }),\n      index: 0,\n      dataKey,\n      nameKey,\n      // with Treemap nesting, should this continue nesting the index or start from empty string?\n      nestedActiveTooltipIndex: node.tooltipIndex\n    });\n    var formatRoot = squarify(root, aspectRatio);\n    nestIndex = nestIndex.slice(0, i + 1);\n    this.setState({\n      formatRoot,\n      currentRoot: node,\n      nestIndex\n    });\n  }\n\n  renderNode(root, node) {\n    var {\n      content,\n      type\n    } = this.props;\n\n    var nodeProps = _objectSpread(_objectSpread(_objectSpread({}, svgPropertiesNoEvents(this.props)), node), {}, {\n      root\n    });\n\n    var isLeaf = !node.children || !node.children.length;\n    var {\n      currentRoot\n    } = this.state;\n    var isCurrentRootChild = ((currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.children) || []).filter(item => item.depth === node.depth && item.name === node.name);\n\n    if (!isCurrentRootChild.length && root.depth && type === 'nest') {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(Layer, {\n      key: \"recharts-treemap-node-\".concat(nodeProps.x, \"-\").concat(nodeProps.y, \"-\").concat(nodeProps.name),\n      className: \"recharts-treemap-depth-\".concat(node.depth)\n    }, /*#__PURE__*/React.createElement(TreemapItem, {\n      isLeaf: isLeaf,\n      content: content,\n      nodeProps: nodeProps,\n      treemapProps: this.props,\n      onNestClick: this.handleClick\n    }), node.children && node.children.length ? node.children.map(child => this.renderNode(node, child)) : null);\n  }\n\n  renderAllNodes() {\n    var {\n      formatRoot\n    } = this.state;\n\n    if (!formatRoot) {\n      return null;\n    }\n\n    return this.renderNode(formatRoot, formatRoot);\n  } // render nest treemap\n\n\n  renderNestIndex() {\n    var {\n      nameKey,\n      nestIndexContent\n    } = this.props;\n    var {\n      nestIndex\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recharts-treemap-nest-index-wrapper\",\n      style: {\n        marginTop: '8px',\n        textAlign: 'center'\n      }\n    }, nestIndex.map((item, i) => {\n      // TODO need to verify nameKey type\n      var rawName = get(item, nameKey, 'root');\n      var name = typeof rawName === 'string' ? rawName : 'root';\n      var content;\n\n      if ( /*#__PURE__*/React.isValidElement(nestIndexContent)) {\n        // the cloned content is ignored at all times - let's remove it?\n        content = /*#__PURE__*/React.cloneElement(nestIndexContent, item, i);\n      }\n\n      if (typeof nestIndexContent === 'function') {\n        content = nestIndexContent(item, i);\n      } else {\n        content = name;\n      }\n\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n        React.createElement(\"div\", {\n          onClick: this.handleNestIndex.bind(this, item, i),\n          key: \"nest-index-\".concat(uniqueId()),\n          className: \"recharts-treemap-nest-index-box\",\n          style: {\n            cursor: 'pointer',\n            display: 'inline-block',\n            padding: '0 7px',\n            background: '#000',\n            color: '#fff',\n            marginRight: '3px'\n          }\n        }, content)\n      );\n    }));\n  }\n\n  render() {\n    var _this$props = this.props,\n        {\n      width,\n      height,\n      className,\n      style,\n      children,\n      type\n    } = _this$props,\n        others = _objectWithoutProperties(_this$props, _excluded);\n\n    var attrs = svgPropertiesNoEvents(others);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetTreemapTooltipEntrySettings, {\n      dataKey: this.props.dataKey,\n      nameKey: this.props.nameKey,\n      stroke: this.props.stroke,\n      fill: this.props.fill,\n      currentRoot: this.state.currentRoot,\n      id: this.props.id\n    }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n      width: width,\n      height: type === 'nest' ? height - 30 : height,\n      onTouchMove: this.handleTouchMove\n    }), this.renderAllNodes(), children), type === 'nest' && this.renderNestIndex());\n  }\n\n}\n\n_defineProperty(TreemapWithState, \"displayName\", 'Treemap');\n\nfunction TreemapDispatchInject(props) {\n  var dispatch = useAppDispatch();\n  var width = useChartWidth();\n  var height = useChartHeight();\n\n  if (!isPositiveNumber(width) || !isPositiveNumber(height)) {\n    return null;\n  }\n\n  var {\n    id: externalId\n  } = props;\n  return /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: externalId,\n    type: \"treemap\"\n  }, id => /*#__PURE__*/React.createElement(TreemapWithState, _extends({}, props, {\n    id: id,\n    width: width,\n    height: height,\n    dispatch: dispatch\n  })));\n}\n/**\n * The Treemap chart is used to visualize hierarchical data using nested rectangles.\n *\n * @consumes ResponsiveContainerContext\n * @provides TooltipEntrySettings\n */\n\n\nexport function Treemap(outsideProps) {\n  var _props$className;\n\n  var props = resolveDefaultProps(outsideProps, defaultTreeMapProps);\n  var {\n    className,\n    style,\n    width,\n    height\n  } = props;\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: {\n      options\n    },\n    reduxStoreName: (_props$className = props.className) !== null && _props$className !== void 0 ? _props$className : 'Treemap'\n  }, /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: defaultTreemapMargin\n  }), /*#__PURE__*/React.createElement(RechartsWrapper, {\n    dispatchTouchEvents: false,\n    className: className,\n    style: style,\n    width: width,\n    height: height\n    /*\n     * Treemap has a bug where it doesn't include strokeWidth in its dimension calculation\n     * which makes the actual chart exactly {strokeWidth} larger than asked for.\n     * It's not a huge deal usually, but it makes the responsive option cycle infinitely.\n     */\n    ,\n    responsive: false,\n    ref: node => {\n      if (tooltipPortal == null && node != null) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(TreemapDispatchInject, props))));\n}","map":{"version":3,"names":["_excluded","_objectWithoutProperties","e","t","o","r","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","n","length","indexOf","propertyIsEnumerable","call","hasOwnProperty","_extends","assign","bind","arguments","apply","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","PureComponent","useCallback","useState","omit","get","Layer","Surface","Polygon","Rectangle","getValueByDataKey","COLOR_PANEL","isNan","noop","uniqueId","getStringSize","ReportChartMargin","useChartHeight","useChartWidth","TooltipPortalContext","RechartsWrapper","setActiveClickItemIndex","setActiveMouseOverItemIndex","SetTooltipEntrySettings","RechartsStoreProvider","useAppDispatch","isPositiveNumber","svgPropertiesNoEvents","CSSTransitionAnimate","resolveDefaultProps","RegisterGraphicalItemId","NODE_VALUE_KEY","isTreemapNode","x","y","width","height","treemapPayloadSearcher","data","activeIndex","undefined","addToTreemapNodeIndex","indexInChildrenArr","activeTooltipIndexSoFar","concat","options","chartName","defaultTooltipEventType","validateTooltipEventTypes","tooltipPayloadSearcher","eventEmitter","computeNode","_ref","depth","node","index","dataKey","nameKey","nestedActiveTooltipIndex","currentTooltipIndex","children","childDepth","computedChildren","map","child","nodeValue","reduce","result","rawNodeValue","numericValue","name","tooltipIndex","filterRect","getAreaOfChildren","areaValueRatio","ratio","area","getWorstScore","row","parentSize","aspectRatio","parentArea","rowArea","min","max","Math","Infinity","horizontalPosition","parentRect","isFlush","rowHeight","round","curX","len","verticalPosition","rowWidth","curY","position","squarify","rect","best","score","size","scaleChildren","tempChildren","slice","shift","_row$pop$area","_row$pop","pop","c","defaultTreeMapProps","sqrt","type","isAnimationActive","isUpdateAnimationActive","animationBegin","animationDuration","animationEasing","defaultState","isAnimationFinished","formatRoot","currentRoot","nestIndex","prevAspectRatio","prevDataKey","ContentItem","_ref2","content","nodeProps","colorPanel","onMouseEnter","onMouseLeave","onClick","isValidElement","createElement","cloneElement","arrow","points","text","nameSize","fontSize","colors","fill","stroke","ContentItemWithEvents","props","dispatch","activeCoordinate","activeDataKey","activeGraphicalItemId","id","SetTreemapTooltipEntrySettings","memo","_ref3","tooltipEntrySettings","dataDefinedOnItem","getPosition","settings","strokeWidth","hide","color","unit","graphicalItemId","defaultTreemapMargin","top","right","bottom","left","TreemapItem","_ref4","isLeaf","treemapProps","onNestClick","onAnimationStart","onAnimationEnd","onMouseEnterFromProps","onItemClickFromProps","onMouseLeaveFromProps","translateX","translateY","handleAnimationEnd","handleAnimationStart","animationId","from","to","attributeName","begin","easing","isActive","duration","style","transformOrigin","TreemapWithState","constructor","root","state","setState","touchEvent","touches","target","document","elementFromPoint","clientX","clientY","getAttribute","itemIndex","activeNode","getDerivedStateFromProps","nextProps","prevState","prevData","prevType","prevWidth","prevHeight","handleNestIndex","renderNode","isCurrentRootChild","item","key","className","handleClick","renderAllNodes","renderNestIndex","nestIndexContent","marginTop","textAlign","rawName","cursor","display","padding","background","marginRight","render","_this$props","others","attrs","Fragment","onTouchMove","handleTouchMove","TreemapDispatchInject","externalId","Treemap","outsideProps","_props$className","tooltipPortal","setTooltipPortal","preloadedState","reduxStoreName","margin","dispatchTouchEvents","responsive","ref","onMouseMove","onMouseDown","onMouseUp","onContextMenu","onDoubleClick","onTouchStart","onTouchEnd","Provider"],"sources":["C:/Users/HP/Desktop/react-projects/Project-weathe/Projekt/node_modules/recharts/es6/chart/Treemap.js"],"sourcesContent":["var _excluded = [\"width\", \"height\", \"className\", \"style\", \"children\", \"type\"];\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { PureComponent, useCallback, useState } from 'react';\nimport omit from 'es-toolkit/compat/omit';\nimport get from 'es-toolkit/compat/get';\nimport { Layer } from '../container/Layer';\nimport { Surface } from '../container/Surface';\nimport { Polygon } from '../shape/Polygon';\nimport { Rectangle } from '../shape/Rectangle';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { COLOR_PANEL } from '../util/Constants';\nimport { isNan, noop, uniqueId } from '../util/DataUtils';\nimport { getStringSize } from '../util/DOMUtils';\nimport { ReportChartMargin, useChartHeight, useChartWidth } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nimport { isPositiveNumber } from '../util/isWellBehavedNumber';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\nimport { CSSTransitionAnimate } from '../animation/CSSTransitionAnimate';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\nvar NODE_VALUE_KEY = 'value';\n\n/**\n * This is what end users defines as `data` on Treemap.\n */\n\n/**\n * This is what is returned from `squarify`, the final treemap data structure\n * that gets rendered and is stored in\n */\n\nfunction isTreemapNode(value) {\n  return value != null && typeof value === 'object' && 'x' in value && 'y' in value && 'width' in value && 'height' in value && typeof value.x === 'number' && typeof value.y === 'number' && typeof value.width === 'number' && typeof value.height === 'number';\n}\nexport var treemapPayloadSearcher = (data, activeIndex) => {\n  if (!data || !activeIndex) {\n    return undefined;\n  }\n  return get(data, activeIndex);\n};\nexport var addToTreemapNodeIndex = function addToTreemapNodeIndex(indexInChildrenArr) {\n  var activeTooltipIndexSoFar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return \"\".concat(activeTooltipIndexSoFar, \"children[\").concat(indexInChildrenArr, \"]\");\n};\nvar options = {\n  chartName: 'Treemap',\n  defaultTooltipEventType: 'item',\n  validateTooltipEventTypes: ['item'],\n  tooltipPayloadSearcher: treemapPayloadSearcher,\n  eventEmitter: undefined\n};\nexport var computeNode = _ref => {\n  var {\n    depth,\n    node,\n    index,\n    dataKey,\n    nameKey,\n    nestedActiveTooltipIndex\n  } = _ref;\n  var currentTooltipIndex = depth === 0 ? '' : addToTreemapNodeIndex(index, nestedActiveTooltipIndex);\n  var {\n    children\n  } = node;\n  var childDepth = depth + 1;\n  var computedChildren = children && children.length ? children.map((child, i) => computeNode({\n    depth: childDepth,\n    node: child,\n    index: i,\n    dataKey,\n    nameKey,\n    nestedActiveTooltipIndex: currentTooltipIndex\n  })) : null;\n  var nodeValue;\n  if (computedChildren && computedChildren.length) {\n    nodeValue = computedChildren.reduce((result, child) => result + child.value, 0);\n  } else {\n    // TODO need to verify dataKey\n    var rawNodeValue = node[dataKey];\n    var numericValue = typeof rawNodeValue === 'number' ? rawNodeValue : 0;\n    nodeValue = isNan(numericValue) || numericValue <= 0 ? 0 : numericValue;\n  }\n  return _objectSpread(_objectSpread({}, node), {}, {\n    children: computedChildren,\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    name: getValueByDataKey(node, nameKey, ''),\n    [NODE_VALUE_KEY]: nodeValue,\n    depth,\n    index,\n    tooltipIndex: currentTooltipIndex\n  });\n};\nvar filterRect = node => ({\n  x: node.x,\n  y: node.y,\n  width: node.width,\n  height: node.height\n});\n// Compute the area for each child based on value & scale.\nvar getAreaOfChildren = (children, areaValueRatio) => {\n  var ratio = areaValueRatio < 0 ? 0 : areaValueRatio;\n  return children.map(child => {\n    var area = child[NODE_VALUE_KEY] * ratio;\n    return _objectSpread(_objectSpread({}, child), {}, {\n      area: isNan(area) || area <= 0 ? 0 : area\n    });\n  });\n};\n\n// Computes the score for the specified row, as the worst aspect ratio.\nvar getWorstScore = (row, parentSize, aspectRatio) => {\n  var parentArea = parentSize * parentSize;\n  var rowArea = row.area * row.area;\n  var {\n    min,\n    max\n  } = row.reduce((result, child) => ({\n    min: Math.min(result.min, child.area),\n    max: Math.max(result.max, child.area)\n  }), {\n    min: Infinity,\n    max: 0\n  });\n  return rowArea ? Math.max(parentArea * max * aspectRatio / rowArea, rowArea / (parentArea * min * aspectRatio)) : Infinity;\n};\nvar horizontalPosition = (row, parentSize, parentRect, isFlush) => {\n  var rowHeight = parentSize ? Math.round(row.area / parentSize) : 0;\n  if (isFlush || rowHeight > parentRect.height) {\n    rowHeight = parentRect.height;\n  }\n  var curX = parentRect.x;\n  var child;\n  for (var i = 0, len = row.length; i < len; i++) {\n    child = row[i];\n    if (child == null) {\n      continue;\n    }\n    child.x = curX;\n    child.y = parentRect.y;\n    child.height = rowHeight;\n    child.width = Math.min(rowHeight ? Math.round(child.area / rowHeight) : 0, parentRect.x + parentRect.width - curX);\n    curX += child.width;\n  }\n  // add the remain x to the last one of row\n  if (child != null) {\n    child.width += parentRect.x + parentRect.width - curX;\n  }\n  return _objectSpread(_objectSpread({}, parentRect), {}, {\n    y: parentRect.y + rowHeight,\n    height: parentRect.height - rowHeight\n  });\n};\nvar verticalPosition = (row, parentSize, parentRect, isFlush) => {\n  var rowWidth = parentSize ? Math.round(row.area / parentSize) : 0;\n  if (isFlush || rowWidth > parentRect.width) {\n    rowWidth = parentRect.width;\n  }\n  var curY = parentRect.y;\n  var child;\n  for (var i = 0, len = row.length; i < len; i++) {\n    child = row[i];\n    if (child == null) {\n      continue;\n    }\n    child.x = parentRect.x;\n    child.y = curY;\n    child.width = rowWidth;\n    child.height = Math.min(rowWidth ? Math.round(child.area / rowWidth) : 0, parentRect.y + parentRect.height - curY);\n    curY += child.height;\n  }\n  if (child) {\n    child.height += parentRect.y + parentRect.height - curY;\n  }\n  return _objectSpread(_objectSpread({}, parentRect), {}, {\n    x: parentRect.x + rowWidth,\n    width: parentRect.width - rowWidth\n  });\n};\nvar position = (row, parentSize, parentRect, isFlush) => {\n  if (parentSize === parentRect.width) {\n    return horizontalPosition(row, parentSize, parentRect, isFlush);\n  }\n  return verticalPosition(row, parentSize, parentRect, isFlush);\n};\n// Recursively arranges the specified node's children into squarified rows.\nvar squarify = (node, aspectRatio) => {\n  var {\n    children\n  } = node;\n  if (children && children.length) {\n    var rect = filterRect(node);\n    // @ts-expect-error we can't create an array with static property on a single line so typescript will complain.\n    var row = [];\n    var best = Infinity; // the best row score so far\n    var child, score; // the current row score\n    var size = Math.min(rect.width, rect.height); // initial orientation\n    var scaleChildren = getAreaOfChildren(children, rect.width * rect.height / node[NODE_VALUE_KEY]);\n    var tempChildren = scaleChildren.slice();\n\n    // why are we setting static properties on an array?\n    row.area = 0;\n    while (tempChildren.length > 0) {\n      [child] = tempChildren;\n      if (child == null) {\n        continue;\n      }\n      // row first\n      row.push(child);\n      row.area += child.area;\n      score = getWorstScore(row, size, aspectRatio);\n      if (score <= best) {\n        // continue with this orientation\n        tempChildren.shift();\n        best = score;\n      } else {\n        var _row$pop$area, _row$pop;\n        // abort, and try a different orientation\n        row.area -= (_row$pop$area = (_row$pop = row.pop()) === null || _row$pop === void 0 ? void 0 : _row$pop.area) !== null && _row$pop$area !== void 0 ? _row$pop$area : 0;\n        rect = position(row, size, rect, false);\n        size = Math.min(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n    }\n    if (row.length) {\n      rect = position(row, size, rect, true);\n      row.length = row.area = 0;\n    }\n    return _objectSpread(_objectSpread({}, node), {}, {\n      children: scaleChildren.map(c => squarify(c, aspectRatio))\n    });\n  }\n  return node;\n};\nexport var defaultTreeMapProps = {\n  aspectRatio: 0.5 * (1 + Math.sqrt(5)),\n  dataKey: 'value',\n  nameKey: 'name',\n  type: 'flat',\n  isAnimationActive: 'auto',\n  isUpdateAnimationActive: 'auto',\n  animationBegin: 0,\n  animationDuration: 1500,\n  animationEasing: 'linear'\n};\nvar defaultState = {\n  isAnimationFinished: false,\n  formatRoot: null,\n  currentRoot: undefined,\n  nestIndex: [],\n  prevAspectRatio: defaultTreeMapProps.aspectRatio,\n  prevDataKey: defaultTreeMapProps.dataKey\n};\nfunction ContentItem(_ref2) {\n  var {\n    content,\n    nodeProps,\n    type,\n    colorPanel,\n    onMouseEnter,\n    onMouseLeave,\n    onClick\n  } = _ref2;\n  if (/*#__PURE__*/React.isValidElement(content)) {\n    return /*#__PURE__*/React.createElement(Layer, {\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick\n    }, /*#__PURE__*/React.cloneElement(content, nodeProps));\n  }\n  if (typeof content === 'function') {\n    return /*#__PURE__*/React.createElement(Layer, {\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick\n    }, content(nodeProps));\n  }\n  // optimize default shape\n  var {\n    x,\n    y,\n    width,\n    height,\n    index\n  } = nodeProps;\n  var arrow = null;\n  if (width > 10 && height > 10 && nodeProps.children && type === 'nest') {\n    arrow = /*#__PURE__*/React.createElement(Polygon, {\n      points: [{\n        x: x + 2,\n        y: y + height / 2\n      }, {\n        x: x + 6,\n        y: y + height / 2 + 3\n      }, {\n        x: x + 2,\n        y: y + height / 2 + 6\n      }]\n    });\n  }\n  var text = null;\n  var nameSize = getStringSize(nodeProps.name);\n  if (width > 20 && height > 20 && nameSize.width < width && nameSize.height < height) {\n    text = /*#__PURE__*/React.createElement(\"text\", {\n      x: x + 8,\n      y: y + height / 2 + 7,\n      fontSize: 14\n    }, nodeProps.name);\n  }\n  var colors = colorPanel || COLOR_PANEL;\n  return /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(Rectangle, _extends({\n    fill: nodeProps.depth < 2 ? colors[index % colors.length] : 'rgba(255,255,255,0)',\n    stroke: \"#fff\"\n  }, omit(nodeProps, ['children']), {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    \"data-recharts-item-index\": nodeProps.tooltipIndex\n  })), arrow, text);\n}\nfunction ContentItemWithEvents(props) {\n  var dispatch = useAppDispatch();\n  var activeCoordinate = {\n    x: props.nodeProps.x + props.nodeProps.width / 2,\n    y: props.nodeProps.y + props.nodeProps.height / 2\n  };\n  var onMouseEnter = () => {\n    dispatch(setActiveMouseOverItemIndex({\n      activeIndex: props.nodeProps.tooltipIndex,\n      activeDataKey: props.dataKey,\n      activeCoordinate,\n      activeGraphicalItemId: props.id\n    }));\n  };\n  var onMouseLeave = () => {\n    // clearing state on mouseLeaveItem causes re-rendering issues\n    // we don't actually want to do this for TreeMap - we clear state when we leave the entire chart instead\n  };\n  var onClick = () => {\n    dispatch(setActiveClickItemIndex({\n      activeIndex: props.nodeProps.tooltipIndex,\n      activeDataKey: props.dataKey,\n      activeCoordinate,\n      activeGraphicalItemId: props.id\n    }));\n  };\n  return /*#__PURE__*/React.createElement(ContentItem, _extends({}, props, {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick\n  }));\n}\nvar SetTreemapTooltipEntrySettings = /*#__PURE__*/React.memo(_ref3 => {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    fill,\n    currentRoot,\n    id\n  } = _ref3;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: currentRoot,\n    getPosition: noop,\n    // TODO I think Treemap has the capability of computing positions and supporting defaultIndex? Except it doesn't yet\n    settings: {\n      stroke,\n      strokeWidth: undefined,\n      fill,\n      dataKey,\n      nameKey,\n      name: undefined,\n      // Each TreemapNode has its own name\n      hide: false,\n      type: undefined,\n      color: fill,\n      unit: '',\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\n\n// Why is margin not a treemap prop? No clue. Probably it should be\nvar defaultTreemapMargin = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nfunction TreemapItem(_ref4) {\n  var {\n    content,\n    nodeProps,\n    isLeaf,\n    treemapProps,\n    onNestClick\n  } = _ref4;\n  var {\n    id,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    isUpdateAnimationActive,\n    type,\n    colorPanel,\n    dataKey,\n    onAnimationStart,\n    onAnimationEnd,\n    onMouseEnter: onMouseEnterFromProps,\n    onClick: onItemClickFromProps,\n    onMouseLeave: onMouseLeaveFromProps\n  } = treemapProps;\n  var {\n    width,\n    height,\n    x,\n    y\n  } = nodeProps;\n  var translateX = -x - width;\n  var translateY = 0;\n  var onMouseEnter = e => {\n    if ((isLeaf || type === 'nest') && typeof onMouseEnterFromProps === 'function') {\n      onMouseEnterFromProps(nodeProps, e);\n    }\n  };\n  var onMouseLeave = e => {\n    if ((isLeaf || type === 'nest') && typeof onMouseLeaveFromProps === 'function') {\n      onMouseLeaveFromProps(nodeProps, e);\n    }\n  };\n  var onClick = () => {\n    if (type === 'nest') {\n      onNestClick(nodeProps);\n    }\n    if ((isLeaf || type === 'nest') && typeof onItemClickFromProps === 'function') {\n      onItemClickFromProps(nodeProps);\n    }\n  };\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(CSSTransitionAnimate, {\n    animationId: \"treemap-\".concat(nodeProps.tooltipIndex),\n    from: \"translate(\".concat(translateX, \"px, \").concat(translateY, \"px)\"),\n    to: \"translate(0, 0)\",\n    attributeName: \"transform\",\n    begin: animationBegin,\n    easing: animationEasing,\n    isActive: isAnimationActive,\n    duration: animationDuration,\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd\n  }, style => /*#__PURE__*/React.createElement(Layer, {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      transformOrigin: \"\".concat(x, \" \").concat(y)\n    })\n  }, /*#__PURE__*/React.createElement(ContentItemWithEvents, {\n    id: id,\n    content: content,\n    dataKey: dataKey,\n    nodeProps: _objectSpread(_objectSpread({}, nodeProps), {}, {\n      isAnimationActive,\n      isUpdateAnimationActive: !isUpdateAnimationActive,\n      width,\n      height,\n      x,\n      y\n    }),\n    type: type,\n    colorPanel: colorPanel\n  })));\n}\nclass TreemapWithState extends PureComponent {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", _objectSpread({}, defaultState));\n    _defineProperty(this, \"handleClick\", node => {\n      var {\n        onClick,\n        type\n      } = this.props;\n      if (type === 'nest' && node.children) {\n        var {\n          width,\n          height,\n          dataKey,\n          nameKey,\n          aspectRatio\n        } = this.props;\n        var root = computeNode({\n          depth: 0,\n          node: _objectSpread(_objectSpread({}, node), {}, {\n            x: 0,\n            y: 0,\n            width,\n            height\n          }),\n          index: 0,\n          dataKey,\n          nameKey,\n          // with Treemap nesting, should this continue nesting the index or start from empty string?\n          nestedActiveTooltipIndex: node.tooltipIndex\n        });\n        var formatRoot = squarify(root, aspectRatio);\n        var {\n          nestIndex\n        } = this.state;\n        nestIndex.push(node);\n        this.setState({\n          formatRoot,\n          currentRoot: root,\n          nestIndex\n        });\n      }\n      if (onClick) {\n        onClick(node);\n      }\n    });\n    _defineProperty(this, \"handleTouchMove\", e => {\n      var touchEvent = e.touches[0];\n      if (touchEvent == null) {\n        return;\n      }\n      var target = document.elementFromPoint(touchEvent.clientX, touchEvent.clientY);\n      if (!target || !target.getAttribute || this.state.formatRoot == null) {\n        return;\n      }\n      var itemIndex = target.getAttribute('data-recharts-item-index');\n      var activeNode = treemapPayloadSearcher(this.state.formatRoot, itemIndex);\n      if (!isTreemapNode(activeNode)) {\n        return;\n      }\n      var {\n        dataKey,\n        dispatch\n      } = this.props;\n      var activeCoordinate = {\n        x: activeNode.x + activeNode.width / 2,\n        y: activeNode.y + activeNode.height / 2\n      };\n\n      // Treemap does not support onTouchMove prop, but it could\n      // onTouchMove?.(activeNode, Number(itemIndex), e);\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex: itemIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: this.props.id\n      }));\n    });\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.data !== prevState.prevData || nextProps.type !== prevState.prevType || nextProps.width !== prevState.prevWidth || nextProps.height !== prevState.prevHeight || nextProps.dataKey !== prevState.prevDataKey || nextProps.aspectRatio !== prevState.prevAspectRatio) {\n      var root = computeNode({\n        depth: 0,\n        // @ts-expect-error missing properties\n        node: {\n          children: nextProps.data,\n          x: 0,\n          y: 0,\n          width: nextProps.width,\n          height: nextProps.height\n        },\n        index: 0,\n        dataKey: nextProps.dataKey,\n        nameKey: nextProps.nameKey\n      });\n      var formatRoot = squarify(root, nextProps.aspectRatio);\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        formatRoot,\n        currentRoot: root,\n        nestIndex: [root],\n        prevAspectRatio: nextProps.aspectRatio,\n        prevData: nextProps.data,\n        prevWidth: nextProps.width,\n        prevHeight: nextProps.height,\n        prevDataKey: nextProps.dataKey,\n        prevType: nextProps.type\n      });\n    }\n    return null;\n  }\n  handleNestIndex(node, i) {\n    var {\n      nestIndex\n    } = this.state;\n    var {\n      width,\n      height,\n      dataKey,\n      nameKey,\n      aspectRatio\n    } = this.props;\n    var root = computeNode({\n      depth: 0,\n      node: _objectSpread(_objectSpread({}, node), {}, {\n        x: 0,\n        y: 0,\n        width,\n        height\n      }),\n      index: 0,\n      dataKey,\n      nameKey,\n      // with Treemap nesting, should this continue nesting the index or start from empty string?\n      nestedActiveTooltipIndex: node.tooltipIndex\n    });\n    var formatRoot = squarify(root, aspectRatio);\n    nestIndex = nestIndex.slice(0, i + 1);\n    this.setState({\n      formatRoot,\n      currentRoot: node,\n      nestIndex\n    });\n  }\n  renderNode(root, node) {\n    var {\n      content,\n      type\n    } = this.props;\n    var nodeProps = _objectSpread(_objectSpread(_objectSpread({}, svgPropertiesNoEvents(this.props)), node), {}, {\n      root\n    });\n    var isLeaf = !node.children || !node.children.length;\n    var {\n      currentRoot\n    } = this.state;\n    var isCurrentRootChild = ((currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.children) || []).filter(item => item.depth === node.depth && item.name === node.name);\n    if (!isCurrentRootChild.length && root.depth && type === 'nest') {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(Layer, {\n      key: \"recharts-treemap-node-\".concat(nodeProps.x, \"-\").concat(nodeProps.y, \"-\").concat(nodeProps.name),\n      className: \"recharts-treemap-depth-\".concat(node.depth)\n    }, /*#__PURE__*/React.createElement(TreemapItem, {\n      isLeaf: isLeaf,\n      content: content,\n      nodeProps: nodeProps,\n      treemapProps: this.props,\n      onNestClick: this.handleClick\n    }), node.children && node.children.length ? node.children.map(child => this.renderNode(node, child)) : null);\n  }\n  renderAllNodes() {\n    var {\n      formatRoot\n    } = this.state;\n    if (!formatRoot) {\n      return null;\n    }\n    return this.renderNode(formatRoot, formatRoot);\n  }\n\n  // render nest treemap\n  renderNestIndex() {\n    var {\n      nameKey,\n      nestIndexContent\n    } = this.props;\n    var {\n      nestIndex\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recharts-treemap-nest-index-wrapper\",\n      style: {\n        marginTop: '8px',\n        textAlign: 'center'\n      }\n    }, nestIndex.map((item, i) => {\n      // TODO need to verify nameKey type\n      var rawName = get(item, nameKey, 'root');\n      var name = typeof rawName === 'string' ? rawName : 'root';\n      var content;\n      if (/*#__PURE__*/React.isValidElement(nestIndexContent)) {\n        // the cloned content is ignored at all times - let's remove it?\n        content = /*#__PURE__*/React.cloneElement(nestIndexContent, item, i);\n      }\n      if (typeof nestIndexContent === 'function') {\n        content = nestIndexContent(item, i);\n      } else {\n        content = name;\n      }\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n        React.createElement(\"div\", {\n          onClick: this.handleNestIndex.bind(this, item, i),\n          key: \"nest-index-\".concat(uniqueId()),\n          className: \"recharts-treemap-nest-index-box\",\n          style: {\n            cursor: 'pointer',\n            display: 'inline-block',\n            padding: '0 7px',\n            background: '#000',\n            color: '#fff',\n            marginRight: '3px'\n          }\n        }, content)\n      );\n    }));\n  }\n  render() {\n    var _this$props = this.props,\n      {\n        width,\n        height,\n        className,\n        style,\n        children,\n        type\n      } = _this$props,\n      others = _objectWithoutProperties(_this$props, _excluded);\n    var attrs = svgPropertiesNoEvents(others);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetTreemapTooltipEntrySettings, {\n      dataKey: this.props.dataKey,\n      nameKey: this.props.nameKey,\n      stroke: this.props.stroke,\n      fill: this.props.fill,\n      currentRoot: this.state.currentRoot,\n      id: this.props.id\n    }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n      width: width,\n      height: type === 'nest' ? height - 30 : height,\n      onTouchMove: this.handleTouchMove\n    }), this.renderAllNodes(), children), type === 'nest' && this.renderNestIndex());\n  }\n}\n_defineProperty(TreemapWithState, \"displayName\", 'Treemap');\nfunction TreemapDispatchInject(props) {\n  var dispatch = useAppDispatch();\n  var width = useChartWidth();\n  var height = useChartHeight();\n  if (!isPositiveNumber(width) || !isPositiveNumber(height)) {\n    return null;\n  }\n  var {\n    id: externalId\n  } = props;\n  return /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: externalId,\n    type: \"treemap\"\n  }, id => /*#__PURE__*/React.createElement(TreemapWithState, _extends({}, props, {\n    id: id,\n    width: width,\n    height: height,\n    dispatch: dispatch\n  })));\n}\n\n/**\n * The Treemap chart is used to visualize hierarchical data using nested rectangles.\n *\n * @consumes ResponsiveContainerContext\n * @provides TooltipEntrySettings\n */\nexport function Treemap(outsideProps) {\n  var _props$className;\n  var props = resolveDefaultProps(outsideProps, defaultTreeMapProps);\n  var {\n    className,\n    style,\n    width,\n    height\n  } = props;\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: {\n      options\n    },\n    reduxStoreName: (_props$className = props.className) !== null && _props$className !== void 0 ? _props$className : 'Treemap'\n  }, /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: defaultTreemapMargin\n  }), /*#__PURE__*/React.createElement(RechartsWrapper, {\n    dispatchTouchEvents: false,\n    className: className,\n    style: style,\n    width: width,\n    height: height\n    /*\n     * Treemap has a bug where it doesn't include strokeWidth in its dimension calculation\n     * which makes the actual chart exactly {strokeWidth} larger than asked for.\n     * It's not a huge deal usually, but it makes the responsive option cycle infinitely.\n     */,\n    responsive: false,\n    ref: node => {\n      if (tooltipPortal == null && node != null) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(TreemapDispatchInject, props))));\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}