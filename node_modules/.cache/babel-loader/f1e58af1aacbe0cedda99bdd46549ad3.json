{"ast":null,"code":"import { getStackSeriesIdentifier } from '../../../util/stacks/getStackSeriesIdentifier';\nimport { getValueByDataKey } from '../../../util/ChartUtils';\n/**\n * In a stacked chart, each graphical item has its own data. That data could be either:\n * - defined on the chart root, in which case the item gets a unique dataKey\n * - or defined on the item itself, in which case multiple items can share the same dataKey\n *\n * That means we cannot use the dataKey as a unique identifier for the item.\n *\n * This type represents a single data point in a stacked chart, where each key is a series identifier\n * and the value is the numeric value for that series using the numerical axis dataKey.\n */\n\nexport function combineDisplayedStackedData(stackedGraphicalItems, _ref, tooltipAxisSettings) {\n  var {\n    chartData = []\n  } = _ref;\n  var {\n    allowDuplicatedCategory,\n    dataKey: tooltipDataKey\n  } = tooltipAxisSettings; // A map of tooltip data keys to the stacked data points\n\n  var knownItemsByDataKey = new Map();\n  stackedGraphicalItems.forEach(item => {\n    var _item$data; // If there is no data on the individual item then we use the root chart data\n\n\n    var resolvedData = (_item$data = item.data) !== null && _item$data !== void 0 ? _item$data : chartData;\n\n    if (resolvedData == null || resolvedData.length === 0) {\n      // if that doesn't work then we skip this item\n      return;\n    }\n\n    var stackIdentifier = getStackSeriesIdentifier(item);\n    resolvedData.forEach((entry, index) => {\n      var tooltipValue = tooltipDataKey == null || allowDuplicatedCategory ? index : String(getValueByDataKey(entry, tooltipDataKey, null));\n      var numericValue = getValueByDataKey(entry, item.dataKey, 0);\n      var curr;\n\n      if (knownItemsByDataKey.has(tooltipValue)) {\n        curr = knownItemsByDataKey.get(tooltipValue);\n      } else {\n        curr = {};\n      }\n\n      Object.assign(curr, {\n        [stackIdentifier]: numericValue\n      });\n      knownItemsByDataKey.set(tooltipValue, curr);\n    });\n  });\n  return Array.from(knownItemsByDataKey.values());\n}","map":{"version":3,"names":["getStackSeriesIdentifier","getValueByDataKey","combineDisplayedStackedData","stackedGraphicalItems","_ref","tooltipAxisSettings","chartData","allowDuplicatedCategory","dataKey","tooltipDataKey","knownItemsByDataKey","Map","forEach","item","_item$data","resolvedData","data","length","stackIdentifier","entry","index","tooltipValue","String","numericValue","curr","has","get","Object","assign","set","Array","from","values"],"sources":["C:/Users/HP/Desktop/react-projects/Project-weathe/Projekt/node_modules/recharts/es6/state/selectors/combiners/combineDisplayedStackedData.js"],"sourcesContent":["import { getStackSeriesIdentifier } from '../../../util/stacks/getStackSeriesIdentifier';\nimport { getValueByDataKey } from '../../../util/ChartUtils';\n\n/**\n * In a stacked chart, each graphical item has its own data. That data could be either:\n * - defined on the chart root, in which case the item gets a unique dataKey\n * - or defined on the item itself, in which case multiple items can share the same dataKey\n *\n * That means we cannot use the dataKey as a unique identifier for the item.\n *\n * This type represents a single data point in a stacked chart, where each key is a series identifier\n * and the value is the numeric value for that series using the numerical axis dataKey.\n */\n\nexport function combineDisplayedStackedData(stackedGraphicalItems, _ref, tooltipAxisSettings) {\n  var {\n    chartData = []\n  } = _ref;\n  var {\n    allowDuplicatedCategory,\n    dataKey: tooltipDataKey\n  } = tooltipAxisSettings;\n\n  // A map of tooltip data keys to the stacked data points\n  var knownItemsByDataKey = new Map();\n  stackedGraphicalItems.forEach(item => {\n    var _item$data;\n    // If there is no data on the individual item then we use the root chart data\n    var resolvedData = (_item$data = item.data) !== null && _item$data !== void 0 ? _item$data : chartData;\n    if (resolvedData == null || resolvedData.length === 0) {\n      // if that doesn't work then we skip this item\n      return;\n    }\n    var stackIdentifier = getStackSeriesIdentifier(item);\n    resolvedData.forEach((entry, index) => {\n      var tooltipValue = tooltipDataKey == null || allowDuplicatedCategory ? index : String(getValueByDataKey(entry, tooltipDataKey, null));\n      var numericValue = getValueByDataKey(entry, item.dataKey, 0);\n      var curr;\n      if (knownItemsByDataKey.has(tooltipValue)) {\n        curr = knownItemsByDataKey.get(tooltipValue);\n      } else {\n        curr = {};\n      }\n      Object.assign(curr, {\n        [stackIdentifier]: numericValue\n      });\n      knownItemsByDataKey.set(tooltipValue, curr);\n    });\n  });\n  return Array.from(knownItemsByDataKey.values());\n}"],"mappings":"AAAA,SAASA,wBAAT,QAAyC,+CAAzC;AACA,SAASC,iBAAT,QAAkC,0BAAlC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,2BAAT,CAAqCC,qBAArC,EAA4DC,IAA5D,EAAkEC,mBAAlE,EAAuF;EAC5F,IAAI;IACFC,SAAS,GAAG;EADV,IAEAF,IAFJ;EAGA,IAAI;IACFG,uBADE;IAEFC,OAAO,EAAEC;EAFP,IAGAJ,mBAHJ,CAJ4F,CAS5F;;EACA,IAAIK,mBAAmB,GAAG,IAAIC,GAAJ,EAA1B;EACAR,qBAAqB,CAACS,OAAtB,CAA8BC,IAAI,IAAI;IACpC,IAAIC,UAAJ,CADoC,CAEpC;;;IACA,IAAIC,YAAY,GAAG,CAACD,UAAU,GAAGD,IAAI,CAACG,IAAnB,MAA6B,IAA7B,IAAqCF,UAAU,KAAK,KAAK,CAAzD,GAA6DA,UAA7D,GAA0ER,SAA7F;;IACA,IAAIS,YAAY,IAAI,IAAhB,IAAwBA,YAAY,CAACE,MAAb,KAAwB,CAApD,EAAuD;MACrD;MACA;IACD;;IACD,IAAIC,eAAe,GAAGlB,wBAAwB,CAACa,IAAD,CAA9C;IACAE,YAAY,CAACH,OAAb,CAAqB,CAACO,KAAD,EAAQC,KAAR,KAAkB;MACrC,IAAIC,YAAY,GAAGZ,cAAc,IAAI,IAAlB,IAA0BF,uBAA1B,GAAoDa,KAApD,GAA4DE,MAAM,CAACrB,iBAAiB,CAACkB,KAAD,EAAQV,cAAR,EAAwB,IAAxB,CAAlB,CAArF;MACA,IAAIc,YAAY,GAAGtB,iBAAiB,CAACkB,KAAD,EAAQN,IAAI,CAACL,OAAb,EAAsB,CAAtB,CAApC;MACA,IAAIgB,IAAJ;;MACA,IAAId,mBAAmB,CAACe,GAApB,CAAwBJ,YAAxB,CAAJ,EAA2C;QACzCG,IAAI,GAAGd,mBAAmB,CAACgB,GAApB,CAAwBL,YAAxB,CAAP;MACD,CAFD,MAEO;QACLG,IAAI,GAAG,EAAP;MACD;;MACDG,MAAM,CAACC,MAAP,CAAcJ,IAAd,EAAoB;QAClB,CAACN,eAAD,GAAmBK;MADD,CAApB;MAGAb,mBAAmB,CAACmB,GAApB,CAAwBR,YAAxB,EAAsCG,IAAtC;IACD,CAbD;EAcD,CAvBD;EAwBA,OAAOM,KAAK,CAACC,IAAN,CAAWrB,mBAAmB,CAACsB,MAApB,EAAX,CAAP;AACD"},"metadata":{},"sourceType":"module"}