{"ast":null,"code":"function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nimport * as React from 'react';\nimport { Children, PureComponent, useCallback, useContext, useEffect } from 'react';\nimport { clsx } from 'clsx';\nimport { scalePoint } from 'victory-vendor/d3-scale';\nimport range from 'es-toolkit/compat/range';\nimport { Layer } from '../container/Layer';\nimport { Text } from '../component/Text';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { isNumber, isNotNil } from '../util/DataUtils';\nimport { generatePrefixStyle } from '../util/CssPrefixUtils';\nimport { useChartData, useDataIndex } from '../context/chartDataContext';\nimport { BrushUpdateDispatchContext } from '../context/brushUpdateContext';\nimport { useAppDispatch, useAppSelector } from '../state/hooks';\nimport { setDataStartEndIndexes } from '../state/chartDataSlice';\nimport { setBrushSettings } from '../state/brushSlice';\nimport { PanoramaContextProvider } from '../context/PanoramaContext';\nimport { selectBrushDimensions } from '../state/selectors/brushSelectors';\nimport { useBrushChartSynchronisation } from '../synchronisation/useChartSynchronisation';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents'; // Why is this tickFormatter different from the other TickFormatters? This one allows to return numbers too for some reason.\n\nfunction DefaultTraveller(props) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    stroke\n  } = props;\n  var lineY = Math.floor(y + height / 2) - 1;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    fill: stroke,\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: x + 1,\n    y1: lineY,\n    x2: x + width - 1,\n    y2: lineY,\n    fill: \"none\",\n    stroke: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: x + 1,\n    y1: lineY + 2,\n    x2: x + width - 1,\n    y2: lineY + 2,\n    fill: \"none\",\n    stroke: \"#fff\"\n  }));\n}\n\nfunction Traveller(props) {\n  var {\n    travellerProps,\n    travellerType\n  } = props;\n\n  if ( /*#__PURE__*/React.isValidElement(travellerType)) {\n    // @ts-expect-error element cloning disagrees with the types (and it should)\n    return /*#__PURE__*/React.cloneElement(travellerType, travellerProps);\n  }\n\n  if (typeof travellerType === 'function') {\n    return travellerType(travellerProps);\n  }\n\n  return /*#__PURE__*/React.createElement(DefaultTraveller, travellerProps);\n}\n\nfunction getNameFromUnknown(value) {\n  if (isNotNil(value) && typeof value === 'object' && 'name' in value && typeof value.name === 'string') {\n    return value.name;\n  }\n\n  return undefined;\n}\n\nfunction getAriaLabel(data, startIndex, endIndex) {\n  var start = getNameFromUnknown(data[startIndex]);\n  var end = getNameFromUnknown(data[endIndex]);\n  return \"Min value: \".concat(start, \", Max value: \").concat(end);\n}\n\nfunction TravellerLayer(_ref) {\n  var {\n    otherProps,\n    travellerX,\n    id,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseDown,\n    onTouchStart,\n    onTravellerMoveKeyboard,\n    onFocus,\n    onBlur\n  } = _ref;\n  var {\n    y,\n    x: xFromProps,\n    travellerWidth,\n    height,\n    traveller,\n    ariaLabel,\n    data,\n    startIndex,\n    endIndex\n  } = otherProps;\n  var x = Math.max(travellerX, xFromProps);\n\n  var travellerProps = _objectSpread(_objectSpread({}, svgPropertiesNoEvents(otherProps)), {}, {\n    x,\n    y,\n    width: travellerWidth,\n    height\n  });\n\n  var ariaLabelBrush = ariaLabel || getAriaLabel(data, startIndex, endIndex);\n  return /*#__PURE__*/React.createElement(Layer, {\n    tabIndex: 0,\n    role: \"slider\",\n    \"aria-label\": ariaLabelBrush,\n    \"aria-valuenow\": travellerX,\n    className: \"recharts-brush-traveller\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseDown: onMouseDown,\n    onTouchStart: onTouchStart,\n    onKeyDown: e => {\n      if (!['ArrowLeft', 'ArrowRight'].includes(e.key)) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n      onTravellerMoveKeyboard(e.key === 'ArrowRight' ? 1 : -1, id);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur,\n    style: {\n      cursor: 'col-resize'\n    }\n  }, /*#__PURE__*/React.createElement(Traveller, {\n    travellerType: traveller,\n    travellerProps: travellerProps\n  }));\n}\n/*\n * This one cannot be a React Component because React is not happy with it returning only string | number.\n * React wants a full React.JSX.Element but that is not compatible with Text component.\n */\n\n\nfunction getTextOfTick(props) {\n  var {\n    index,\n    data,\n    tickFormatter,\n    dataKey\n  } = props; // @ts-expect-error getValueByDataKey does not validate the output type\n\n  var text = getValueByDataKey(data[index], dataKey, index);\n  return typeof tickFormatter === 'function' ? tickFormatter(text, index) : text;\n}\n\nfunction getIndexInRange(valueRange, x) {\n  var len = valueRange.length;\n  var start = 0;\n  var end = len - 1;\n\n  while (end - start > 1) {\n    var middle = Math.floor((start + end) / 2);\n    var middleValue = valueRange[middle];\n\n    if (middleValue != null && middleValue > x) {\n      end = middle;\n    } else {\n      start = middle;\n    }\n  }\n\n  var endValue = valueRange[end];\n  return endValue != null && x >= endValue ? end : start;\n}\n\nfunction getIndex(_ref2) {\n  var {\n    startX,\n    endX,\n    scaleValues,\n    gap,\n    data\n  } = _ref2;\n  var lastIndex = data.length - 1;\n  var min = Math.min(startX, endX);\n  var max = Math.max(startX, endX);\n  var minIndex = getIndexInRange(scaleValues, min);\n  var maxIndex = getIndexInRange(scaleValues, max);\n  return {\n    startIndex: minIndex - minIndex % gap,\n    endIndex: maxIndex === lastIndex ? lastIndex : maxIndex - maxIndex % gap\n  };\n}\n\nfunction Background(_ref3) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    fill,\n    stroke\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: stroke,\n    fill: fill,\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n}\n\nfunction BrushText(_ref4) {\n  var {\n    startIndex,\n    endIndex,\n    y,\n    height,\n    travellerWidth,\n    stroke,\n    tickFormatter,\n    dataKey,\n    data,\n    startX,\n    endX\n  } = _ref4;\n  var offset = 5;\n  var attrs = {\n    pointerEvents: 'none',\n    fill: stroke\n  };\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-brush-texts\"\n  }, /*#__PURE__*/React.createElement(Text, _extends({\n    textAnchor: \"end\",\n    verticalAnchor: \"middle\",\n    x: Math.min(startX, endX) - offset,\n    y: y + height / 2\n  }, attrs), getTextOfTick({\n    index: startIndex,\n    tickFormatter,\n    dataKey,\n    data\n  })), /*#__PURE__*/React.createElement(Text, _extends({\n    textAnchor: \"start\",\n    verticalAnchor: \"middle\",\n    x: Math.max(startX, endX) + travellerWidth + offset,\n    y: y + height / 2\n  }, attrs), getTextOfTick({\n    index: endIndex,\n    tickFormatter,\n    dataKey,\n    data\n  })));\n}\n\nfunction Slide(_ref5) {\n  var {\n    y,\n    height,\n    stroke,\n    travellerWidth,\n    startX,\n    endX,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseDown,\n    onTouchStart\n  } = _ref5;\n  var x = Math.min(startX, endX) + travellerWidth;\n  var width = Math.max(Math.abs(endX - startX) - travellerWidth, 0);\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"recharts-brush-slide\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseDown: onMouseDown,\n    onTouchStart: onTouchStart,\n    style: {\n      cursor: 'move'\n    },\n    stroke: \"none\",\n    fill: stroke,\n    fillOpacity: 0.2,\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n}\n\nfunction Panorama(_ref6) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    data,\n    children,\n    padding\n  } = _ref6;\n  var isPanoramic = React.Children.count(children) === 1;\n\n  if (!isPanoramic) {\n    return null;\n  }\n\n  var chartElement = Children.only(children);\n\n  if (!chartElement) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.cloneElement(chartElement, {\n    x,\n    y,\n    width,\n    height,\n    margin: padding,\n    compact: true,\n    data\n  });\n}\n\nvar createScale = _ref7 => {\n  var {\n    data,\n    startIndex,\n    endIndex,\n    x,\n    width,\n    travellerWidth\n  } = _ref7;\n\n  if (!data || !data.length) {\n    return {};\n  }\n\n  var len = data.length;\n  var scale = scalePoint().domain(range(0, len)).range([x, x + width - travellerWidth]);\n  var scaleValues = scale.domain().map(entry => scale(entry)).filter(isNotNil);\n  return {\n    isTextActive: false,\n    isSlideMoving: false,\n    isTravellerMoving: false,\n    isTravellerFocused: false,\n    startX: scale(startIndex),\n    endX: scale(endIndex),\n    scale,\n    scaleValues\n  };\n};\n\nvar isTouch = e => e.changedTouches && !!e.changedTouches.length;\n\nclass BrushWithState extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleDrag\", e => {\n      if (this.leaveTimer) {\n        clearTimeout(this.leaveTimer);\n        this.leaveTimer = null;\n      }\n\n      if (this.state.isTravellerMoving) {\n        this.handleTravellerMove(e);\n      } else if (this.state.isSlideMoving) {\n        this.handleSlideDrag(e);\n      }\n    });\n\n    _defineProperty(this, \"handleTouchMove\", e => {\n      var _e$changedTouches;\n\n      var touch = (_e$changedTouches = e.changedTouches) === null || _e$changedTouches === void 0 ? void 0 : _e$changedTouches[0];\n\n      if (touch != null) {\n        this.handleDrag(touch);\n      }\n    });\n\n    _defineProperty(this, \"handleDragEnd\", () => {\n      this.setState({\n        isTravellerMoving: false,\n        isSlideMoving: false\n      }, () => {\n        var {\n          endIndex,\n          onDragEnd,\n          startIndex\n        } = this.props;\n        onDragEnd === null || onDragEnd === void 0 || onDragEnd({\n          endIndex,\n          startIndex\n        });\n      });\n      this.detachDragEndListener();\n    });\n\n    _defineProperty(this, \"handleLeaveWrapper\", () => {\n      if (this.state.isTravellerMoving || this.state.isSlideMoving) {\n        this.leaveTimer = window.setTimeout(this.handleDragEnd, this.props.leaveTimeOut);\n      }\n    });\n\n    _defineProperty(this, \"handleEnterSlideOrTraveller\", () => {\n      this.setState({\n        isTextActive: true\n      });\n    });\n\n    _defineProperty(this, \"handleLeaveSlideOrTraveller\", () => {\n      this.setState({\n        isTextActive: false\n      });\n    });\n\n    _defineProperty(this, \"handleSlideDragStart\", e => {\n      var event = isTouch(e) ? e.changedTouches[0] : e;\n\n      if (event == null) {\n        return;\n      }\n\n      this.setState({\n        isTravellerMoving: false,\n        isSlideMoving: true,\n        slideMoveStartX: event.pageX\n      });\n      this.attachDragEndListener();\n    });\n\n    _defineProperty(this, \"handleTravellerMoveKeyboard\", (direction, id) => {\n      var {\n        data,\n        gap,\n        startIndex,\n        endIndex\n      } = this.props; // scaleValues are a list of coordinates. For example: [65, 250, 435, 620, 805, 990].\n\n      var {\n        scaleValues,\n        startX,\n        endX\n      } = this.state;\n\n      if (scaleValues == null) {\n        return;\n      } // unless we search for the closest scaleValue to the current coordinate\n      // we need to move travelers via index when using the keyboard\n\n\n      var currentIndex = -1;\n\n      if (id === 'startX') {\n        currentIndex = startIndex;\n      } else if (id === 'endX') {\n        currentIndex = endIndex;\n      }\n\n      if (currentIndex < 0 || currentIndex >= data.length) {\n        return;\n      }\n\n      var newIndex = currentIndex + direction;\n\n      if (newIndex === -1 || newIndex >= scaleValues.length) {\n        return;\n      }\n\n      var newScaleValue = scaleValues[newIndex];\n\n      if (newScaleValue == null) {\n        return;\n      } // Prevent travellers from being on top of each other or overlapping\n\n\n      if (id === 'startX' && newScaleValue >= endX || id === 'endX' && newScaleValue <= startX) {\n        return;\n      }\n\n      this.setState( // @ts-expect-error not sure why typescript is not happy with this, partial update is fine in React\n      {\n        [id]: newScaleValue\n      }, () => {\n        this.props.onChange(getIndex({\n          startX: this.state.startX,\n          endX: this.state.endX,\n          data,\n          gap,\n          scaleValues\n        }));\n      });\n    });\n\n    this.travellerDragStartHandlers = {\n      startX: this.handleTravellerDragStart.bind(this, 'startX'),\n      endX: this.handleTravellerDragStart.bind(this, 'endX')\n    };\n    this.state = {\n      brushMoveStartX: 0,\n      movingTravellerId: undefined,\n      endX: 0,\n      startX: 0,\n      slideMoveStartX: 0\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    var {\n      data,\n      width,\n      x,\n      travellerWidth,\n      startIndex,\n      endIndex,\n      startIndexControlledFromProps,\n      endIndexControlledFromProps\n    } = nextProps;\n\n    if (data !== prevState.prevData) {\n      return _objectSpread({\n        prevData: data,\n        prevTravellerWidth: travellerWidth,\n        prevX: x,\n        prevWidth: width\n      }, data && data.length ? createScale({\n        data,\n        width,\n        x,\n        travellerWidth,\n        startIndex,\n        endIndex\n      }) : {\n        scale: undefined,\n        scaleValues: undefined\n      });\n    }\n\n    var prevScale = prevState.scale;\n\n    if (prevScale && (width !== prevState.prevWidth || x !== prevState.prevX || travellerWidth !== prevState.prevTravellerWidth)) {\n      prevScale.range([x, x + width - travellerWidth]);\n      var scaleValues = prevScale.domain().map(entry => prevScale(entry)).filter(value => value != null);\n      return {\n        prevData: data,\n        prevTravellerWidth: travellerWidth,\n        prevX: x,\n        prevWidth: width,\n        startX: prevScale(nextProps.startIndex),\n        endX: prevScale(nextProps.endIndex),\n        scaleValues\n      };\n    }\n\n    if (prevState.scale && !prevState.isSlideMoving && !prevState.isTravellerMoving && !prevState.isTravellerFocused && !prevState.isTextActive) {\n      /*\n       * If the startIndex or endIndex are controlled from the outside,\n       * we need to keep the startX and end up to date.\n       * Also we do not want to do that while user is interacting in the brush,\n       * because this will trigger re-render and interrupt the drag&drop.\n       */\n      if (startIndexControlledFromProps != null && prevState.prevStartIndexControlledFromProps !== startIndexControlledFromProps) {\n        return {\n          startX: prevState.scale(startIndexControlledFromProps),\n          prevStartIndexControlledFromProps: startIndexControlledFromProps\n        };\n      }\n\n      if (endIndexControlledFromProps != null && prevState.prevEndIndexControlledFromProps !== endIndexControlledFromProps) {\n        return {\n          endX: prevState.scale(endIndexControlledFromProps),\n          prevEndIndexControlledFromProps: endIndexControlledFromProps\n        };\n      }\n    }\n\n    return null;\n  }\n\n  componentWillUnmount() {\n    if (this.leaveTimer) {\n      clearTimeout(this.leaveTimer);\n      this.leaveTimer = null;\n    }\n\n    this.detachDragEndListener();\n  }\n\n  attachDragEndListener() {\n    window.addEventListener('mouseup', this.handleDragEnd, true);\n    window.addEventListener('touchend', this.handleDragEnd, true);\n    window.addEventListener('mousemove', this.handleDrag, true);\n  }\n\n  detachDragEndListener() {\n    window.removeEventListener('mouseup', this.handleDragEnd, true);\n    window.removeEventListener('touchend', this.handleDragEnd, true);\n    window.removeEventListener('mousemove', this.handleDrag, true);\n  }\n\n  handleSlideDrag(e) {\n    var {\n      slideMoveStartX,\n      startX,\n      endX,\n      scaleValues\n    } = this.state;\n\n    if (scaleValues == null) {\n      return;\n    }\n\n    var {\n      x,\n      width,\n      travellerWidth,\n      startIndex,\n      endIndex,\n      onChange,\n      data,\n      gap\n    } = this.props;\n    var delta = e.pageX - slideMoveStartX;\n\n    if (delta > 0) {\n      delta = Math.min(delta, x + width - travellerWidth - endX, x + width - travellerWidth - startX);\n    } else if (delta < 0) {\n      delta = Math.max(delta, x - startX, x - endX);\n    }\n\n    var newIndex = getIndex({\n      startX: startX + delta,\n      endX: endX + delta,\n      data,\n      gap,\n      scaleValues\n    });\n\n    if ((newIndex.startIndex !== startIndex || newIndex.endIndex !== endIndex) && onChange) {\n      onChange(newIndex);\n    }\n\n    this.setState({\n      startX: startX + delta,\n      endX: endX + delta,\n      slideMoveStartX: e.pageX\n    });\n  }\n\n  handleTravellerDragStart(id, e) {\n    var event = isTouch(e) ? e.changedTouches[0] : e;\n\n    if (event == null) {\n      return;\n    }\n\n    this.setState({\n      isSlideMoving: false,\n      isTravellerMoving: true,\n      movingTravellerId: id,\n      brushMoveStartX: event.pageX\n    });\n    this.attachDragEndListener();\n  }\n\n  handleTravellerMove(e) {\n    var {\n      brushMoveStartX,\n      movingTravellerId,\n      endX,\n      startX,\n      scaleValues\n    } = this.state;\n\n    if (movingTravellerId == null || scaleValues == null) {\n      return;\n    }\n\n    var prevValue = this.state[movingTravellerId];\n    var {\n      x,\n      width,\n      travellerWidth,\n      onChange,\n      gap,\n      data\n    } = this.props;\n    var params = {\n      startX: this.state.startX,\n      endX: this.state.endX,\n      data,\n      gap,\n      scaleValues\n    };\n    var delta = e.pageX - brushMoveStartX;\n\n    if (delta > 0) {\n      delta = Math.min(delta, x + width - travellerWidth - prevValue);\n    } else if (delta < 0) {\n      delta = Math.max(delta, x - prevValue);\n    }\n\n    params[movingTravellerId] = prevValue + delta;\n    var newIndex = getIndex(params);\n    var {\n      startIndex,\n      endIndex\n    } = newIndex;\n\n    var isFullGap = () => {\n      var lastIndex = data.length - 1;\n\n      if (movingTravellerId === 'startX' && (endX > startX ? startIndex % gap === 0 : endIndex % gap === 0) || endX < startX && endIndex === lastIndex || movingTravellerId === 'endX' && (endX > startX ? endIndex % gap === 0 : startIndex % gap === 0) || endX > startX && endIndex === lastIndex) {\n        return true;\n      }\n\n      return false;\n    };\n\n    this.setState( // @ts-expect-error not sure why typescript is not happy with this, partial update is fine in React\n    {\n      [movingTravellerId]: prevValue + delta,\n      brushMoveStartX: e.pageX\n    }, () => {\n      if (onChange) {\n        if (isFullGap()) {\n          onChange(newIndex);\n        }\n      }\n    });\n  }\n\n  render() {\n    var {\n      data,\n      className,\n      children,\n      x,\n      y,\n      dy,\n      width,\n      height,\n      alwaysShowText,\n      fill,\n      stroke,\n      startIndex,\n      endIndex,\n      travellerWidth,\n      tickFormatter,\n      dataKey,\n      padding\n    } = this.props;\n    var {\n      startX,\n      endX,\n      isTextActive,\n      isSlideMoving,\n      isTravellerMoving,\n      isTravellerFocused\n    } = this.state;\n\n    if (!data || !data.length || !isNumber(x) || !isNumber(y) || !isNumber(width) || !isNumber(height) || width <= 0 || height <= 0) {\n      return null;\n    }\n\n    var layerClass = clsx('recharts-brush', className);\n    var style = generatePrefixStyle('userSelect', 'none');\n    var calculatedY = y + (dy !== null && dy !== void 0 ? dy : 0);\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass,\n      onMouseLeave: this.handleLeaveWrapper,\n      onTouchMove: this.handleTouchMove,\n      style: style\n    }, /*#__PURE__*/React.createElement(Background, {\n      x: x,\n      y: calculatedY,\n      width: width,\n      height: height,\n      fill: fill,\n      stroke: stroke\n    }), /*#__PURE__*/React.createElement(PanoramaContextProvider, null, /*#__PURE__*/React.createElement(Panorama, {\n      x: x,\n      y: calculatedY,\n      width: width,\n      height: height,\n      data: data,\n      padding: padding\n    }, children)), /*#__PURE__*/React.createElement(Slide, {\n      y: calculatedY,\n      height: height,\n      stroke: stroke,\n      travellerWidth: travellerWidth,\n      startX: startX,\n      endX: endX,\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.handleSlideDragStart,\n      onTouchStart: this.handleSlideDragStart\n    }), /*#__PURE__*/React.createElement(TravellerLayer, {\n      travellerX: startX,\n      id: \"startX\",\n      otherProps: _objectSpread(_objectSpread({}, this.props), {}, {\n        y: calculatedY\n      }),\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.travellerDragStartHandlers.startX,\n      onTouchStart: this.travellerDragStartHandlers.startX,\n      onTravellerMoveKeyboard: this.handleTravellerMoveKeyboard,\n      onFocus: () => {\n        this.setState({\n          isTravellerFocused: true\n        });\n      },\n      onBlur: () => {\n        this.setState({\n          isTravellerFocused: false\n        });\n      }\n    }), /*#__PURE__*/React.createElement(TravellerLayer, {\n      travellerX: endX,\n      id: \"endX\",\n      otherProps: _objectSpread(_objectSpread({}, this.props), {}, {\n        y: calculatedY\n      }),\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.travellerDragStartHandlers.endX,\n      onTouchStart: this.travellerDragStartHandlers.endX,\n      onTravellerMoveKeyboard: this.handleTravellerMoveKeyboard,\n      onFocus: () => {\n        this.setState({\n          isTravellerFocused: true\n        });\n      },\n      onBlur: () => {\n        this.setState({\n          isTravellerFocused: false\n        });\n      }\n    }), (isTextActive || isSlideMoving || isTravellerMoving || isTravellerFocused || alwaysShowText) && /*#__PURE__*/React.createElement(BrushText, {\n      startIndex: startIndex,\n      endIndex: endIndex,\n      y: calculatedY,\n      height: height,\n      travellerWidth: travellerWidth,\n      stroke: stroke,\n      tickFormatter: tickFormatter,\n      dataKey: dataKey,\n      data: data,\n      startX: startX,\n      endX: endX\n    }));\n  }\n\n}\n\nfunction BrushInternal(props) {\n  var dispatch = useAppDispatch();\n  var chartData = useChartData();\n  var dataIndexes = useDataIndex();\n  var onChangeFromContext = useContext(BrushUpdateDispatchContext);\n  var onChangeFromProps = props.onChange;\n  var {\n    startIndex: startIndexFromProps,\n    endIndex: endIndexFromProps\n  } = props;\n  useEffect(() => {\n    // start and end index can be controlled from props, and we need them to stay up-to-date in the Redux state too\n    dispatch(setDataStartEndIndexes({\n      startIndex: startIndexFromProps,\n      endIndex: endIndexFromProps\n    }));\n  }, [dispatch, endIndexFromProps, startIndexFromProps]);\n  useBrushChartSynchronisation();\n  var onChange = useCallback(nextState => {\n    if (dataIndexes == null) {\n      return;\n    }\n\n    var {\n      startIndex,\n      endIndex\n    } = dataIndexes;\n\n    if (nextState.startIndex !== startIndex || nextState.endIndex !== endIndex) {\n      onChangeFromContext === null || onChangeFromContext === void 0 || onChangeFromContext(nextState);\n      onChangeFromProps === null || onChangeFromProps === void 0 || onChangeFromProps(nextState);\n      dispatch(setDataStartEndIndexes(nextState));\n    }\n  }, [onChangeFromProps, onChangeFromContext, dispatch, dataIndexes]);\n  var brushDimensions = useAppSelector(selectBrushDimensions);\n\n  if (brushDimensions == null || dataIndexes == null || chartData == null || !chartData.length) {\n    return null;\n  }\n\n  var {\n    startIndex,\n    endIndex\n  } = dataIndexes;\n  var {\n    x,\n    y,\n    width\n  } = brushDimensions;\n  var contextProperties = {\n    data: chartData,\n    x,\n    y,\n    width,\n    startIndex,\n    endIndex,\n    onChange\n  };\n  return /*#__PURE__*/React.createElement(BrushWithState, _extends({}, props, contextProperties, {\n    startIndexControlledFromProps: startIndexFromProps !== null && startIndexFromProps !== void 0 ? startIndexFromProps : undefined,\n    endIndexControlledFromProps: endIndexFromProps !== null && endIndexFromProps !== void 0 ? endIndexFromProps : undefined\n  }));\n}\n\nfunction BrushSettingsDispatcher(props) {\n  var dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setBrushSettings(props));\n    return () => {\n      dispatch(setBrushSettings(null));\n    };\n  }, [dispatch, props]);\n  return null;\n}\n\nexport var defaultBrushProps = {\n  height: 40,\n  travellerWidth: 5,\n  gap: 1,\n  fill: '#fff',\n  stroke: '#666',\n  padding: {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1\n  },\n  leaveTimeOut: 1000,\n  alwaysShowText: false\n};\n/**\n * Renders a scrollbar that allows the user to zoom and pan in the chart along its XAxis.\n * It also allows you to render a small overview of the chart inside the brush that is always visible\n * and shows the full data set so that the user can see where they are zoomed in.\n *\n * If a chart is synchronized with other charts using the `syncId` prop on the chart,\n * the brush will also synchronize the zooming and panning between all synchronized charts.\n *\n * @see {@link https://recharts.github.io/en-US/examples/BrushBarChart/ BarChart with Brush}\n * @see {@link https://recharts.github.io/en-US/examples/SynchronizedLineChart/ Synchronized Brush}\n *\n * @consumes CartesianChartContext\n */\n\nexport function Brush(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, defaultBrushProps);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BrushSettingsDispatcher, {\n    height: props.height,\n    x: props.x,\n    y: props.y,\n    width: props.width,\n    padding: props.padding\n  }), /*#__PURE__*/React.createElement(BrushInternal, props));\n}\nBrush.displayName = 'Brush';","map":{"version":3,"names":["_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","Children","PureComponent","useCallback","useContext","useEffect","clsx","scalePoint","range","Layer","Text","getValueByDataKey","isNumber","isNotNil","generatePrefixStyle","useChartData","useDataIndex","BrushUpdateDispatchContext","useAppDispatch","useAppSelector","setDataStartEndIndexes","setBrushSettings","PanoramaContextProvider","selectBrushDimensions","useBrushChartSynchronisation","resolveDefaultProps","svgPropertiesNoEvents","DefaultTraveller","props","x","y","width","height","stroke","lineY","Math","floor","createElement","Fragment","fill","x1","y1","x2","y2","Traveller","travellerProps","travellerType","isValidElement","cloneElement","getNameFromUnknown","name","undefined","getAriaLabel","data","startIndex","endIndex","start","end","concat","TravellerLayer","_ref","otherProps","travellerX","id","onMouseEnter","onMouseLeave","onMouseDown","onTouchStart","onTravellerMoveKeyboard","onFocus","onBlur","xFromProps","travellerWidth","traveller","ariaLabel","max","ariaLabelBrush","tabIndex","role","className","onKeyDown","includes","key","preventDefault","stopPropagation","style","cursor","getTextOfTick","index","tickFormatter","dataKey","text","getIndexInRange","valueRange","len","middle","middleValue","endValue","getIndex","_ref2","startX","endX","scaleValues","gap","lastIndex","min","minIndex","maxIndex","Background","_ref3","BrushText","_ref4","offset","attrs","pointerEvents","textAnchor","verticalAnchor","Slide","_ref5","abs","fillOpacity","Panorama","_ref6","children","padding","isPanoramic","count","chartElement","only","margin","compact","createScale","_ref7","scale","domain","map","entry","isTextActive","isSlideMoving","isTravellerMoving","isTravellerFocused","isTouch","changedTouches","BrushWithState","constructor","leaveTimer","clearTimeout","state","handleTravellerMove","handleSlideDrag","_e$changedTouches","touch","handleDrag","setState","onDragEnd","detachDragEndListener","window","setTimeout","handleDragEnd","leaveTimeOut","event","slideMoveStartX","pageX","attachDragEndListener","direction","currentIndex","newIndex","newScaleValue","onChange","travellerDragStartHandlers","handleTravellerDragStart","brushMoveStartX","movingTravellerId","getDerivedStateFromProps","nextProps","prevState","startIndexControlledFromProps","endIndexControlledFromProps","prevData","prevTravellerWidth","prevX","prevWidth","prevScale","prevStartIndexControlledFromProps","prevEndIndexControlledFromProps","componentWillUnmount","addEventListener","removeEventListener","delta","prevValue","params","isFullGap","render","dy","alwaysShowText","layerClass","calculatedY","handleLeaveWrapper","onTouchMove","handleTouchMove","handleEnterSlideOrTraveller","handleLeaveSlideOrTraveller","handleSlideDragStart","handleTravellerMoveKeyboard","BrushInternal","dispatch","chartData","dataIndexes","onChangeFromContext","onChangeFromProps","startIndexFromProps","endIndexFromProps","nextState","brushDimensions","contextProperties","BrushSettingsDispatcher","defaultBrushProps","top","right","bottom","left","Brush","outsideProps","displayName"],"sources":["C:/Users/HP/Desktop/react-projects/Project-weathe/Projekt/node_modules/recharts/es6/cartesian/Brush.js"],"sourcesContent":["function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { Children, PureComponent, useCallback, useContext, useEffect } from 'react';\nimport { clsx } from 'clsx';\nimport { scalePoint } from 'victory-vendor/d3-scale';\nimport range from 'es-toolkit/compat/range';\nimport { Layer } from '../container/Layer';\nimport { Text } from '../component/Text';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { isNumber, isNotNil } from '../util/DataUtils';\nimport { generatePrefixStyle } from '../util/CssPrefixUtils';\nimport { useChartData, useDataIndex } from '../context/chartDataContext';\nimport { BrushUpdateDispatchContext } from '../context/brushUpdateContext';\nimport { useAppDispatch, useAppSelector } from '../state/hooks';\nimport { setDataStartEndIndexes } from '../state/chartDataSlice';\nimport { setBrushSettings } from '../state/brushSlice';\nimport { PanoramaContextProvider } from '../context/PanoramaContext';\nimport { selectBrushDimensions } from '../state/selectors/brushSelectors';\nimport { useBrushChartSynchronisation } from '../synchronisation/useChartSynchronisation';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\n\n// Why is this tickFormatter different from the other TickFormatters? This one allows to return numbers too for some reason.\n\nfunction DefaultTraveller(props) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    stroke\n  } = props;\n  var lineY = Math.floor(y + height / 2) - 1;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    fill: stroke,\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: x + 1,\n    y1: lineY,\n    x2: x + width - 1,\n    y2: lineY,\n    fill: \"none\",\n    stroke: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: x + 1,\n    y1: lineY + 2,\n    x2: x + width - 1,\n    y2: lineY + 2,\n    fill: \"none\",\n    stroke: \"#fff\"\n  }));\n}\nfunction Traveller(props) {\n  var {\n    travellerProps,\n    travellerType\n  } = props;\n  if (/*#__PURE__*/React.isValidElement(travellerType)) {\n    // @ts-expect-error element cloning disagrees with the types (and it should)\n    return /*#__PURE__*/React.cloneElement(travellerType, travellerProps);\n  }\n  if (typeof travellerType === 'function') {\n    return travellerType(travellerProps);\n  }\n  return /*#__PURE__*/React.createElement(DefaultTraveller, travellerProps);\n}\nfunction getNameFromUnknown(value) {\n  if (isNotNil(value) && typeof value === 'object' && 'name' in value && typeof value.name === 'string') {\n    return value.name;\n  }\n  return undefined;\n}\nfunction getAriaLabel(data, startIndex, endIndex) {\n  var start = getNameFromUnknown(data[startIndex]);\n  var end = getNameFromUnknown(data[endIndex]);\n  return \"Min value: \".concat(start, \", Max value: \").concat(end);\n}\nfunction TravellerLayer(_ref) {\n  var {\n    otherProps,\n    travellerX,\n    id,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseDown,\n    onTouchStart,\n    onTravellerMoveKeyboard,\n    onFocus,\n    onBlur\n  } = _ref;\n  var {\n    y,\n    x: xFromProps,\n    travellerWidth,\n    height,\n    traveller,\n    ariaLabel,\n    data,\n    startIndex,\n    endIndex\n  } = otherProps;\n  var x = Math.max(travellerX, xFromProps);\n  var travellerProps = _objectSpread(_objectSpread({}, svgPropertiesNoEvents(otherProps)), {}, {\n    x,\n    y,\n    width: travellerWidth,\n    height\n  });\n  var ariaLabelBrush = ariaLabel || getAriaLabel(data, startIndex, endIndex);\n  return /*#__PURE__*/React.createElement(Layer, {\n    tabIndex: 0,\n    role: \"slider\",\n    \"aria-label\": ariaLabelBrush,\n    \"aria-valuenow\": travellerX,\n    className: \"recharts-brush-traveller\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseDown: onMouseDown,\n    onTouchStart: onTouchStart,\n    onKeyDown: e => {\n      if (!['ArrowLeft', 'ArrowRight'].includes(e.key)) {\n        return;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      onTravellerMoveKeyboard(e.key === 'ArrowRight' ? 1 : -1, id);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur,\n    style: {\n      cursor: 'col-resize'\n    }\n  }, /*#__PURE__*/React.createElement(Traveller, {\n    travellerType: traveller,\n    travellerProps: travellerProps\n  }));\n}\n/*\n * This one cannot be a React Component because React is not happy with it returning only string | number.\n * React wants a full React.JSX.Element but that is not compatible with Text component.\n */\nfunction getTextOfTick(props) {\n  var {\n    index,\n    data,\n    tickFormatter,\n    dataKey\n  } = props;\n  // @ts-expect-error getValueByDataKey does not validate the output type\n  var text = getValueByDataKey(data[index], dataKey, index);\n  return typeof tickFormatter === 'function' ? tickFormatter(text, index) : text;\n}\nfunction getIndexInRange(valueRange, x) {\n  var len = valueRange.length;\n  var start = 0;\n  var end = len - 1;\n  while (end - start > 1) {\n    var middle = Math.floor((start + end) / 2);\n    var middleValue = valueRange[middle];\n    if (middleValue != null && middleValue > x) {\n      end = middle;\n    } else {\n      start = middle;\n    }\n  }\n  var endValue = valueRange[end];\n  return endValue != null && x >= endValue ? end : start;\n}\nfunction getIndex(_ref2) {\n  var {\n    startX,\n    endX,\n    scaleValues,\n    gap,\n    data\n  } = _ref2;\n  var lastIndex = data.length - 1;\n  var min = Math.min(startX, endX);\n  var max = Math.max(startX, endX);\n  var minIndex = getIndexInRange(scaleValues, min);\n  var maxIndex = getIndexInRange(scaleValues, max);\n  return {\n    startIndex: minIndex - minIndex % gap,\n    endIndex: maxIndex === lastIndex ? lastIndex : maxIndex - maxIndex % gap\n  };\n}\nfunction Background(_ref3) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    fill,\n    stroke\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: stroke,\n    fill: fill,\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n}\nfunction BrushText(_ref4) {\n  var {\n    startIndex,\n    endIndex,\n    y,\n    height,\n    travellerWidth,\n    stroke,\n    tickFormatter,\n    dataKey,\n    data,\n    startX,\n    endX\n  } = _ref4;\n  var offset = 5;\n  var attrs = {\n    pointerEvents: 'none',\n    fill: stroke\n  };\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-brush-texts\"\n  }, /*#__PURE__*/React.createElement(Text, _extends({\n    textAnchor: \"end\",\n    verticalAnchor: \"middle\",\n    x: Math.min(startX, endX) - offset,\n    y: y + height / 2\n  }, attrs), getTextOfTick({\n    index: startIndex,\n    tickFormatter,\n    dataKey,\n    data\n  })), /*#__PURE__*/React.createElement(Text, _extends({\n    textAnchor: \"start\",\n    verticalAnchor: \"middle\",\n    x: Math.max(startX, endX) + travellerWidth + offset,\n    y: y + height / 2\n  }, attrs), getTextOfTick({\n    index: endIndex,\n    tickFormatter,\n    dataKey,\n    data\n  })));\n}\nfunction Slide(_ref5) {\n  var {\n    y,\n    height,\n    stroke,\n    travellerWidth,\n    startX,\n    endX,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseDown,\n    onTouchStart\n  } = _ref5;\n  var x = Math.min(startX, endX) + travellerWidth;\n  var width = Math.max(Math.abs(endX - startX) - travellerWidth, 0);\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"recharts-brush-slide\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseDown: onMouseDown,\n    onTouchStart: onTouchStart,\n    style: {\n      cursor: 'move'\n    },\n    stroke: \"none\",\n    fill: stroke,\n    fillOpacity: 0.2,\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n}\nfunction Panorama(_ref6) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    data,\n    children,\n    padding\n  } = _ref6;\n  var isPanoramic = React.Children.count(children) === 1;\n  if (!isPanoramic) {\n    return null;\n  }\n  var chartElement = Children.only(children);\n  if (!chartElement) {\n    return null;\n  }\n  return /*#__PURE__*/React.cloneElement(chartElement, {\n    x,\n    y,\n    width,\n    height,\n    margin: padding,\n    compact: true,\n    data\n  });\n}\nvar createScale = _ref7 => {\n  var {\n    data,\n    startIndex,\n    endIndex,\n    x,\n    width,\n    travellerWidth\n  } = _ref7;\n  if (!data || !data.length) {\n    return {};\n  }\n  var len = data.length;\n  var scale = scalePoint().domain(range(0, len)).range([x, x + width - travellerWidth]);\n  var scaleValues = scale.domain().map(entry => scale(entry)).filter(isNotNil);\n  return {\n    isTextActive: false,\n    isSlideMoving: false,\n    isTravellerMoving: false,\n    isTravellerFocused: false,\n    startX: scale(startIndex),\n    endX: scale(endIndex),\n    scale,\n    scaleValues\n  };\n};\nvar isTouch = e => e.changedTouches && !!e.changedTouches.length;\nclass BrushWithState extends PureComponent {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"handleDrag\", e => {\n      if (this.leaveTimer) {\n        clearTimeout(this.leaveTimer);\n        this.leaveTimer = null;\n      }\n      if (this.state.isTravellerMoving) {\n        this.handleTravellerMove(e);\n      } else if (this.state.isSlideMoving) {\n        this.handleSlideDrag(e);\n      }\n    });\n    _defineProperty(this, \"handleTouchMove\", e => {\n      var _e$changedTouches;\n      var touch = (_e$changedTouches = e.changedTouches) === null || _e$changedTouches === void 0 ? void 0 : _e$changedTouches[0];\n      if (touch != null) {\n        this.handleDrag(touch);\n      }\n    });\n    _defineProperty(this, \"handleDragEnd\", () => {\n      this.setState({\n        isTravellerMoving: false,\n        isSlideMoving: false\n      }, () => {\n        var {\n          endIndex,\n          onDragEnd,\n          startIndex\n        } = this.props;\n        onDragEnd === null || onDragEnd === void 0 || onDragEnd({\n          endIndex,\n          startIndex\n        });\n      });\n      this.detachDragEndListener();\n    });\n    _defineProperty(this, \"handleLeaveWrapper\", () => {\n      if (this.state.isTravellerMoving || this.state.isSlideMoving) {\n        this.leaveTimer = window.setTimeout(this.handleDragEnd, this.props.leaveTimeOut);\n      }\n    });\n    _defineProperty(this, \"handleEnterSlideOrTraveller\", () => {\n      this.setState({\n        isTextActive: true\n      });\n    });\n    _defineProperty(this, \"handleLeaveSlideOrTraveller\", () => {\n      this.setState({\n        isTextActive: false\n      });\n    });\n    _defineProperty(this, \"handleSlideDragStart\", e => {\n      var event = isTouch(e) ? e.changedTouches[0] : e;\n      if (event == null) {\n        return;\n      }\n      this.setState({\n        isTravellerMoving: false,\n        isSlideMoving: true,\n        slideMoveStartX: event.pageX\n      });\n      this.attachDragEndListener();\n    });\n    _defineProperty(this, \"handleTravellerMoveKeyboard\", (direction, id) => {\n      var {\n        data,\n        gap,\n        startIndex,\n        endIndex\n      } = this.props;\n      // scaleValues are a list of coordinates. For example: [65, 250, 435, 620, 805, 990].\n      var {\n        scaleValues,\n        startX,\n        endX\n      } = this.state;\n      if (scaleValues == null) {\n        return;\n      }\n\n      // unless we search for the closest scaleValue to the current coordinate\n      // we need to move travelers via index when using the keyboard\n      var currentIndex = -1;\n      if (id === 'startX') {\n        currentIndex = startIndex;\n      } else if (id === 'endX') {\n        currentIndex = endIndex;\n      }\n      if (currentIndex < 0 || currentIndex >= data.length) {\n        return;\n      }\n      var newIndex = currentIndex + direction;\n      if (newIndex === -1 || newIndex >= scaleValues.length) {\n        return;\n      }\n      var newScaleValue = scaleValues[newIndex];\n      if (newScaleValue == null) {\n        return;\n      }\n\n      // Prevent travellers from being on top of each other or overlapping\n      if (id === 'startX' && newScaleValue >= endX || id === 'endX' && newScaleValue <= startX) {\n        return;\n      }\n      this.setState(\n      // @ts-expect-error not sure why typescript is not happy with this, partial update is fine in React\n      {\n        [id]: newScaleValue\n      }, () => {\n        this.props.onChange(getIndex({\n          startX: this.state.startX,\n          endX: this.state.endX,\n          data,\n          gap,\n          scaleValues\n        }));\n      });\n    });\n    this.travellerDragStartHandlers = {\n      startX: this.handleTravellerDragStart.bind(this, 'startX'),\n      endX: this.handleTravellerDragStart.bind(this, 'endX')\n    };\n    this.state = {\n      brushMoveStartX: 0,\n      movingTravellerId: undefined,\n      endX: 0,\n      startX: 0,\n      slideMoveStartX: 0\n    };\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    var {\n      data,\n      width,\n      x,\n      travellerWidth,\n      startIndex,\n      endIndex,\n      startIndexControlledFromProps,\n      endIndexControlledFromProps\n    } = nextProps;\n    if (data !== prevState.prevData) {\n      return _objectSpread({\n        prevData: data,\n        prevTravellerWidth: travellerWidth,\n        prevX: x,\n        prevWidth: width\n      }, data && data.length ? createScale({\n        data,\n        width,\n        x,\n        travellerWidth,\n        startIndex,\n        endIndex\n      }) : {\n        scale: undefined,\n        scaleValues: undefined\n      });\n    }\n    var prevScale = prevState.scale;\n    if (prevScale && (width !== prevState.prevWidth || x !== prevState.prevX || travellerWidth !== prevState.prevTravellerWidth)) {\n      prevScale.range([x, x + width - travellerWidth]);\n      var scaleValues = prevScale.domain().map(entry => prevScale(entry)).filter(value => value != null);\n      return {\n        prevData: data,\n        prevTravellerWidth: travellerWidth,\n        prevX: x,\n        prevWidth: width,\n        startX: prevScale(nextProps.startIndex),\n        endX: prevScale(nextProps.endIndex),\n        scaleValues\n      };\n    }\n    if (prevState.scale && !prevState.isSlideMoving && !prevState.isTravellerMoving && !prevState.isTravellerFocused && !prevState.isTextActive) {\n      /*\n       * If the startIndex or endIndex are controlled from the outside,\n       * we need to keep the startX and end up to date.\n       * Also we do not want to do that while user is interacting in the brush,\n       * because this will trigger re-render and interrupt the drag&drop.\n       */\n      if (startIndexControlledFromProps != null && prevState.prevStartIndexControlledFromProps !== startIndexControlledFromProps) {\n        return {\n          startX: prevState.scale(startIndexControlledFromProps),\n          prevStartIndexControlledFromProps: startIndexControlledFromProps\n        };\n      }\n      if (endIndexControlledFromProps != null && prevState.prevEndIndexControlledFromProps !== endIndexControlledFromProps) {\n        return {\n          endX: prevState.scale(endIndexControlledFromProps),\n          prevEndIndexControlledFromProps: endIndexControlledFromProps\n        };\n      }\n    }\n    return null;\n  }\n  componentWillUnmount() {\n    if (this.leaveTimer) {\n      clearTimeout(this.leaveTimer);\n      this.leaveTimer = null;\n    }\n    this.detachDragEndListener();\n  }\n  attachDragEndListener() {\n    window.addEventListener('mouseup', this.handleDragEnd, true);\n    window.addEventListener('touchend', this.handleDragEnd, true);\n    window.addEventListener('mousemove', this.handleDrag, true);\n  }\n  detachDragEndListener() {\n    window.removeEventListener('mouseup', this.handleDragEnd, true);\n    window.removeEventListener('touchend', this.handleDragEnd, true);\n    window.removeEventListener('mousemove', this.handleDrag, true);\n  }\n  handleSlideDrag(e) {\n    var {\n      slideMoveStartX,\n      startX,\n      endX,\n      scaleValues\n    } = this.state;\n    if (scaleValues == null) {\n      return;\n    }\n    var {\n      x,\n      width,\n      travellerWidth,\n      startIndex,\n      endIndex,\n      onChange,\n      data,\n      gap\n    } = this.props;\n    var delta = e.pageX - slideMoveStartX;\n    if (delta > 0) {\n      delta = Math.min(delta, x + width - travellerWidth - endX, x + width - travellerWidth - startX);\n    } else if (delta < 0) {\n      delta = Math.max(delta, x - startX, x - endX);\n    }\n    var newIndex = getIndex({\n      startX: startX + delta,\n      endX: endX + delta,\n      data,\n      gap,\n      scaleValues\n    });\n    if ((newIndex.startIndex !== startIndex || newIndex.endIndex !== endIndex) && onChange) {\n      onChange(newIndex);\n    }\n    this.setState({\n      startX: startX + delta,\n      endX: endX + delta,\n      slideMoveStartX: e.pageX\n    });\n  }\n  handleTravellerDragStart(id, e) {\n    var event = isTouch(e) ? e.changedTouches[0] : e;\n    if (event == null) {\n      return;\n    }\n    this.setState({\n      isSlideMoving: false,\n      isTravellerMoving: true,\n      movingTravellerId: id,\n      brushMoveStartX: event.pageX\n    });\n    this.attachDragEndListener();\n  }\n  handleTravellerMove(e) {\n    var {\n      brushMoveStartX,\n      movingTravellerId,\n      endX,\n      startX,\n      scaleValues\n    } = this.state;\n    if (movingTravellerId == null || scaleValues == null) {\n      return;\n    }\n    var prevValue = this.state[movingTravellerId];\n    var {\n      x,\n      width,\n      travellerWidth,\n      onChange,\n      gap,\n      data\n    } = this.props;\n    var params = {\n      startX: this.state.startX,\n      endX: this.state.endX,\n      data,\n      gap,\n      scaleValues\n    };\n    var delta = e.pageX - brushMoveStartX;\n    if (delta > 0) {\n      delta = Math.min(delta, x + width - travellerWidth - prevValue);\n    } else if (delta < 0) {\n      delta = Math.max(delta, x - prevValue);\n    }\n    params[movingTravellerId] = prevValue + delta;\n    var newIndex = getIndex(params);\n    var {\n      startIndex,\n      endIndex\n    } = newIndex;\n    var isFullGap = () => {\n      var lastIndex = data.length - 1;\n      if (movingTravellerId === 'startX' && (endX > startX ? startIndex % gap === 0 : endIndex % gap === 0) || endX < startX && endIndex === lastIndex || movingTravellerId === 'endX' && (endX > startX ? endIndex % gap === 0 : startIndex % gap === 0) || endX > startX && endIndex === lastIndex) {\n        return true;\n      }\n      return false;\n    };\n    this.setState(\n    // @ts-expect-error not sure why typescript is not happy with this, partial update is fine in React\n    {\n      [movingTravellerId]: prevValue + delta,\n      brushMoveStartX: e.pageX\n    }, () => {\n      if (onChange) {\n        if (isFullGap()) {\n          onChange(newIndex);\n        }\n      }\n    });\n  }\n  render() {\n    var {\n      data,\n      className,\n      children,\n      x,\n      y,\n      dy,\n      width,\n      height,\n      alwaysShowText,\n      fill,\n      stroke,\n      startIndex,\n      endIndex,\n      travellerWidth,\n      tickFormatter,\n      dataKey,\n      padding\n    } = this.props;\n    var {\n      startX,\n      endX,\n      isTextActive,\n      isSlideMoving,\n      isTravellerMoving,\n      isTravellerFocused\n    } = this.state;\n    if (!data || !data.length || !isNumber(x) || !isNumber(y) || !isNumber(width) || !isNumber(height) || width <= 0 || height <= 0) {\n      return null;\n    }\n    var layerClass = clsx('recharts-brush', className);\n    var style = generatePrefixStyle('userSelect', 'none');\n    var calculatedY = y + (dy !== null && dy !== void 0 ? dy : 0);\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass,\n      onMouseLeave: this.handleLeaveWrapper,\n      onTouchMove: this.handleTouchMove,\n      style: style\n    }, /*#__PURE__*/React.createElement(Background, {\n      x: x,\n      y: calculatedY,\n      width: width,\n      height: height,\n      fill: fill,\n      stroke: stroke\n    }), /*#__PURE__*/React.createElement(PanoramaContextProvider, null, /*#__PURE__*/React.createElement(Panorama, {\n      x: x,\n      y: calculatedY,\n      width: width,\n      height: height,\n      data: data,\n      padding: padding\n    }, children)), /*#__PURE__*/React.createElement(Slide, {\n      y: calculatedY,\n      height: height,\n      stroke: stroke,\n      travellerWidth: travellerWidth,\n      startX: startX,\n      endX: endX,\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.handleSlideDragStart,\n      onTouchStart: this.handleSlideDragStart\n    }), /*#__PURE__*/React.createElement(TravellerLayer, {\n      travellerX: startX,\n      id: \"startX\",\n      otherProps: _objectSpread(_objectSpread({}, this.props), {}, {\n        y: calculatedY\n      }),\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.travellerDragStartHandlers.startX,\n      onTouchStart: this.travellerDragStartHandlers.startX,\n      onTravellerMoveKeyboard: this.handleTravellerMoveKeyboard,\n      onFocus: () => {\n        this.setState({\n          isTravellerFocused: true\n        });\n      },\n      onBlur: () => {\n        this.setState({\n          isTravellerFocused: false\n        });\n      }\n    }), /*#__PURE__*/React.createElement(TravellerLayer, {\n      travellerX: endX,\n      id: \"endX\",\n      otherProps: _objectSpread(_objectSpread({}, this.props), {}, {\n        y: calculatedY\n      }),\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.travellerDragStartHandlers.endX,\n      onTouchStart: this.travellerDragStartHandlers.endX,\n      onTravellerMoveKeyboard: this.handleTravellerMoveKeyboard,\n      onFocus: () => {\n        this.setState({\n          isTravellerFocused: true\n        });\n      },\n      onBlur: () => {\n        this.setState({\n          isTravellerFocused: false\n        });\n      }\n    }), (isTextActive || isSlideMoving || isTravellerMoving || isTravellerFocused || alwaysShowText) && /*#__PURE__*/React.createElement(BrushText, {\n      startIndex: startIndex,\n      endIndex: endIndex,\n      y: calculatedY,\n      height: height,\n      travellerWidth: travellerWidth,\n      stroke: stroke,\n      tickFormatter: tickFormatter,\n      dataKey: dataKey,\n      data: data,\n      startX: startX,\n      endX: endX\n    }));\n  }\n}\nfunction BrushInternal(props) {\n  var dispatch = useAppDispatch();\n  var chartData = useChartData();\n  var dataIndexes = useDataIndex();\n  var onChangeFromContext = useContext(BrushUpdateDispatchContext);\n  var onChangeFromProps = props.onChange;\n  var {\n    startIndex: startIndexFromProps,\n    endIndex: endIndexFromProps\n  } = props;\n  useEffect(() => {\n    // start and end index can be controlled from props, and we need them to stay up-to-date in the Redux state too\n    dispatch(setDataStartEndIndexes({\n      startIndex: startIndexFromProps,\n      endIndex: endIndexFromProps\n    }));\n  }, [dispatch, endIndexFromProps, startIndexFromProps]);\n  useBrushChartSynchronisation();\n  var onChange = useCallback(nextState => {\n    if (dataIndexes == null) {\n      return;\n    }\n    var {\n      startIndex,\n      endIndex\n    } = dataIndexes;\n    if (nextState.startIndex !== startIndex || nextState.endIndex !== endIndex) {\n      onChangeFromContext === null || onChangeFromContext === void 0 || onChangeFromContext(nextState);\n      onChangeFromProps === null || onChangeFromProps === void 0 || onChangeFromProps(nextState);\n      dispatch(setDataStartEndIndexes(nextState));\n    }\n  }, [onChangeFromProps, onChangeFromContext, dispatch, dataIndexes]);\n  var brushDimensions = useAppSelector(selectBrushDimensions);\n  if (brushDimensions == null || dataIndexes == null || chartData == null || !chartData.length) {\n    return null;\n  }\n  var {\n    startIndex,\n    endIndex\n  } = dataIndexes;\n  var {\n    x,\n    y,\n    width\n  } = brushDimensions;\n  var contextProperties = {\n    data: chartData,\n    x,\n    y,\n    width,\n    startIndex,\n    endIndex,\n    onChange\n  };\n  return /*#__PURE__*/React.createElement(BrushWithState, _extends({}, props, contextProperties, {\n    startIndexControlledFromProps: startIndexFromProps !== null && startIndexFromProps !== void 0 ? startIndexFromProps : undefined,\n    endIndexControlledFromProps: endIndexFromProps !== null && endIndexFromProps !== void 0 ? endIndexFromProps : undefined\n  }));\n}\nfunction BrushSettingsDispatcher(props) {\n  var dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setBrushSettings(props));\n    return () => {\n      dispatch(setBrushSettings(null));\n    };\n  }, [dispatch, props]);\n  return null;\n}\nexport var defaultBrushProps = {\n  height: 40,\n  travellerWidth: 5,\n  gap: 1,\n  fill: '#fff',\n  stroke: '#666',\n  padding: {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1\n  },\n  leaveTimeOut: 1000,\n  alwaysShowText: false\n};\n\n/**\n * Renders a scrollbar that allows the user to zoom and pan in the chart along its XAxis.\n * It also allows you to render a small overview of the chart inside the brush that is always visible\n * and shows the full data set so that the user can see where they are zoomed in.\n *\n * If a chart is synchronized with other charts using the `syncId` prop on the chart,\n * the brush will also synchronize the zooming and panning between all synchronized charts.\n *\n * @see {@link https://recharts.github.io/en-US/examples/BrushBarChart/ BarChart with Brush}\n * @see {@link https://recharts.github.io/en-US/examples/SynchronizedLineChart/ Synchronized Brush}\n *\n * @consumes CartesianChartContext\n */\nexport function Brush(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, defaultBrushProps);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BrushSettingsDispatcher, {\n    height: props.height,\n    x: props.x,\n    y: props.y,\n    width: props.width,\n    padding: props.padding\n  }), /*#__PURE__*/React.createElement(BrushInternal, props));\n}\nBrush.displayName = 'Brush';"],"mappings":"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"},"metadata":{},"sourceType":"module"}